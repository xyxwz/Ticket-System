/* Fri May 10 21:16:55 UTC 2013 */
(function(){var e,t,n;(function(r){function d(e,t){return h.call(e,t)}function v(e,t){var n,r,i,s,o,u,a,f,c,h,p=t&&t.split("/"),d=l.map,v=d&&d["*"]||{};if(e&&e.charAt(0)===".")if(t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(f=0;f<e.length;f+=1){h=e[f];if(h===".")e.splice(f,1),f-=1;else if(h===".."){if(f===1&&(e[2]===".."||e[0]===".."))break;f>0&&(e.splice(f-1,2),f-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((p||v)&&d){n=e.split("/");for(f=n.length;f>0;f-=1){r=n.slice(0,f).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){s=i,o=f;break}}}if(s)break;!u&&v&&v[r]&&(u=v[r],a=f)}!s&&u&&(s=u,o=a),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function m(e,t){return function(){return s.apply(r,p.call(arguments,0).concat([e,t]))}}function g(e){return function(t){return v(t,e)}}function y(e){return function(t){a[e]=t}}function b(e){if(d(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!d(a,e)&&!d(c,e))throw new Error("No "+e);return a[e]}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice;o=function(e,t){var n,r=w(e),i=r[0];return e=r[1],i&&(i=v(i,t),n=b(i)),i?n&&n.normalize?e=n.normalize(e,g(t)):e=v(e,t):(e=v(e,t),r=w(e),i=r[0],e=r[1],i&&(n=b(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return m(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:E(e)}}},i=function(e,t,n,i){var s,l,h,p,v,g=[],w;i=i||e;if(typeof n=="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(v=0;v<t.length;v+=1){p=o(t[v],i),l=p.f;if(l==="require")g[v]=u.require(e);else if(l==="exports")g[v]=u.exports(e),w=!0;else if(l==="module")s=g[v]=u.module(e);else if(d(a,l)||d(f,l)||d(c,l))g[v]=b(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,m(i,!0),y(l),{}),g[v]=a[l]}}h=n.apply(a[e],g);if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!w)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){return typeof e=="string"?u[e]?u[e](t):b(o(e,t).f):(e.splice||(l=e,t.splice?(e=t,t=n,n=null):e=r),t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s)},s.config=function(e){return l=e,l.deps&&s(l.deps,l.callback),s},n=function(e,t,n){t.splice||(n=t,t=[]),!d(a,e)&&!d(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}})(),n("libs/almond",function(){}),function(e,t){function H(e){var t=e.length,n=w.type(e);return w.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||n!=="function"&&(t===0||typeof t=="number"&&t>0&&t-1 in e)}function j(e){var t=B[e]={};return w.each(e.match(S)||[],function(e,n){t[n]=!0}),t}function q(e,n,r,i){if(!w.acceptData(e))return;var s,o,u=w.expando,a=typeof n=="string",f=e.nodeType,l=f?w.cache:e,h=f?e[u]:e[u]&&u;if((!h||!l[h]||!i&&!l[h].data)&&a&&r===t)return;h||(f?e[u]=h=c.pop()||w.guid++:h=u),l[h]||(l[h]={},f||(l[h].toJSON=w.noop));if(typeof n=="object"||typeof n=="function")i?l[h]=w.extend(l[h],n):l[h].data=w.extend(l[h].data,n);return s=l[h],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[w.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[w.camelCase(n)])):o=s,o}function R(e,t,n){if(!w.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?w.cache:e,a=o?e[w.expando]:w.expando;if(!u[a])return;if(t){s=n?u[a]:u[a].data;if(s){w.isArray(t)?t=t.concat(w.map(t,w.camelCase)):t in s?t=[t]:(t=w.camelCase(t),t in s?t=[t]:t=t.split(" "));for(r=0,i=t.length;r<i;r++)delete s[t[r]];if(!(n?z:w.isEmptyObject)(s))return}}if(!n){delete u[a].data;if(!z(u[a]))return}o?w.cleanData([e],!0):w.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null}function U(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(I,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:F.test(r)?w.parseJSON(r):r}catch(s){}w.data(e,n,r)}else r=t}return r}function z(e){var t;for(t in e){if(t==="data"&&w.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function st(){return!0}function ot(){return!1}function ht(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function pt(e,t,n){t=t||0;if(w.isFunction(t))return w.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return w.grep(e,function(e){return e===t===n});if(typeof t=="string"){var r=w.grep(e,function(e){return e.nodeType===1});if(ft.test(t))return w.filter(t,r,!n);t=w.filter(t,r)}return w.grep(e,function(e){return w.inArray(e,t)>=0===n})}function dt(e){var t=vt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function _t(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Dt(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function Pt(e){var t=kt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Ht(e,t){var n,r=0;for(;(n=e[r])!=null;r++)w._data(n,"globalEval",!t||w._data(t[r],"globalEval"))}function Bt(e,t){if(t.nodeType!==1||!w.hasData(e))return;var n,r,i,s=w._data(e),o=w._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)w.event.add(t,n,u[n][r])}o.data&&(o.data=w.extend({},o.data))}function jt(e,t){var n,r,i;if(t.nodeType!==1)return;n=t.nodeName.toLowerCase();if(!w.support.noCloneEvent&&t[w.expando]){i=w._data(t);for(r in i.events)w.removeEvent(t,r,i.handle);t.removeAttribute(w.expando)}if(n==="script"&&t.text!==e.text)Dt(t).text=e.text,Pt(t);else if(n==="object")t.parentNode&&(t.outerHTML=e.outerHTML),w.support.html5Clone&&e.innerHTML&&!w.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML);else if(n==="input"&&Tt.test(e.type))t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value);else if(n==="option")t.defaultSelected=t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function Ft(e,n){var r,i,o=0,u=typeof e.getElementsByTagName!==s?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==s?e.querySelectorAll(n||"*"):t;if(!u)for(u=[],r=e.childNodes||e;(i=r[o])!=null;o++)!n||w.nodeName(i,n)?u.push(i):w.merge(u,Ft(i,n));return n===t||n&&w.nodeName(e,n)?w.merge([e],u):u}function It(e){Tt.test(e.type)&&(e.defaultChecked=e.checked)}function nn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=tn.length;while(i--){t=tn[i]+n;if(t in e)return t}return r}function rn(e,t){return e=t||e,w.css(e,"display")==="none"||!w.contains(e.ownerDocument,e)}function sn(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=w._data(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&rn(r)&&(s[o]=w._data(r,"olddisplay",fn(r.nodeName)))):s[o]||(i=rn(r),(n&&n!=="none"||!i)&&w._data(r,"olddisplay",i?n:w.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function on(e,t,n){var r=Jt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function un(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=w.css(e,n+en[s],!0,i)),r?(n==="content"&&(o-=w.css(e,"padding"+en[s],!0,i)),n!=="margin"&&(o-=w.css(e,"border"+en[s]+"Width",!0,i))):(o+=w.css(e,"padding"+en[s],!0,i),n!=="padding"&&(o+=w.css(e,"border"+en[s]+"Width",!0,i)));return o}function an(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=Rt(e),o=w.support.boxSizing&&w.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=Ut(e,t,s);if(i<0||i==null)i=e.style[t];if(Kt.test(i))return i;r=o&&(w.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+un(e,t,n||(o?"border":"content"),r,s)+"px"}function fn(e){var t=o,n=Gt[e];if(!n){n=ln(e,t);if(n==="none"||!n)qt=(qt||w("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(qt[0].contentWindow||qt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=ln(e,t),qt.detach();Gt[e]=n}return n}function ln(e,t){var n=w(t.createElement(e)).appendTo(t.body),r=w.css(n[0],"display");return n.remove(),r}function mn(e,t,n,r){var i;if(w.isArray(t))w.each(t,function(t,i){n||hn.test(e)?r(e,i):mn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&w.type(t)==="object")for(i in t)mn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Dn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(S)||[];if(w.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Pn(e,t,n,r){function o(u){var a;return i[u]=!0,w.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===On;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Hn(e,n){var r,i,s=w.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((s[i]?e:r||(r={}))[i]=n[i]);return r&&w.extend(!0,e,r),e}function Bn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(u in l)u in r&&(n[l[u]]=r[u]);while(f[0]==="*")f.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(u in a)if(a[u]&&a[u].test(s)){f.unshift(u);break}if(f[0]in r)o=f[0];else{for(u in r){if(!f[0]||e.converters[u+" "+f[0]]){o=u;break}i||(i=u)}o=o||i}if(o)return o!==f[0]&&f.unshift(o),r[o]}function jn(e,t){var n,r,i,s,o={},u=0,a=e.dataTypes.slice(),f=a[0];e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(a[1])for(i in e.converters)o[i.toLowerCase()]=e.converters[i];for(;r=a[++u];)if(r!=="*"){if(f!=="*"&&f!==r){i=o[f+" "+r]||o["* "+r];if(!i)for(n in o){s=n.split(" ");if(s[1]===r){i=o[f+" "+s[0]]||o["* "+s[0]];if(i){i===!0?i=o[n]:o[n]!==!0&&(r=s[0],a.splice(u--,0,r));break}}}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(l){return{state:"parsererror",error:i?l:"No conversion from "+f+" to "+r}}}f=r}return{state:"success",data:t}}function Wn(){try{return new e.XMLHttpRequest}catch(t){}}function Xn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Zn(){return setTimeout(function(){Vn=t}),Vn=w.now()}function er(e,t){w.each(t,function(t,n){var r=(Yn[t]||[]).concat(Yn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function tr(e,t,n){var r,i,s=0,o=Gn.length,u=w.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=Vn||Zn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Vn||Zn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;nr(l,f.opts.specialEasing);for(;s<o;s++){r=Gn[s].call(f,e,l,f.opts);if(r)return r}return er(f,l),w.isFunction(f.opts.start)&&f.opts.start.call(e,f),w.fx.timer(w.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function nr(e,t){var n,r,i,s,o;for(i in e){r=w.camelCase(i),s=t[r],n=e[i],w.isArray(n)&&(s=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),o=w.cssHooks[r];if(o&&"expand"in o){n=o.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=s)}else t[r]=s}}function rr(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},v=[],m=e.nodeType&&rn(e);n.queue||(l=w._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,w.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],w.css(e,"display")==="inline"&&w.css(e,"float")==="none"&&(!w.support.inlineBlockNeedsLayout||fn(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",w.support.shrinkWrapBlocks||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t){o=t[i];if(Jn.exec(o)){delete t[i],a=a||o==="toggle";if(o===(m?"hide":"show"))continue;v.push(i)}}s=v.length;if(s){u=w._data(e,"fxshow")||w._data(e,"fxshow",{}),"hidden"in u&&(m=u.hidden),a&&(u.hidden=!m),m?w(e).show():h.done(function(){w(e).hide()}),h.done(function(){var t;w._removeData(e,"fxshow");for(t in d)w.style(e,t,d[t])});for(i=0;i<s;i++)r=v[i],f=h.createTween(r,m?u[r]:0),d[r]=u[r]||w.style(e,r),r in u||(u[r]=f.start,m&&(f.end=f.start,f.start=r==="width"||r==="height"?1:0))}}function ir(e,t,n,r,i){return new ir.prototype.init(e,t,n,r,i)}function sr(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=en[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function or(e){return w.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var r,i,s=typeof t,o=e.document,u=e.location,a=e.jQuery,f=e.$,l={},c=[],h="1.9.1",p=c.concat,d=c.push,v=c.slice,m=c.indexOf,g=l.toString,y=l.hasOwnProperty,b=h.trim,w=function(e,t){return new w.fn.init(e,t,i)},E=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,S=/\S+/g,x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,T=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,N=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,C=/^[\],:{}\s]*$/,k=/(?:^|:|,)(?:\s*\[)+/g,L=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,O=/^-ms-/,M=/-([\da-z])/gi,_=function(e,t){return t.toUpperCase()},D=function(e){if(o.addEventListener||e.type==="load"||o.readyState==="complete")P(),w.ready()},P=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",D,!1),e.removeEventListener("load",D,!1)):(o.detachEvent("onreadystatechange",D),e.detachEvent("onload",D))};w.fn=w.prototype={jquery:h,constructor:w,init:function(e,n,r){var i,s;if(!e)return this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=T.exec(e);if(i&&(i[1]||!n)){if(i[1]){n=n instanceof w?n[0]:n,w.merge(this,w.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0));if(N.test(i[1])&&w.isPlainObject(n))for(i in n)w.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}s=o.getElementById(i[2]);if(s&&s.parentNode){if(s.id!==i[2])return r.find(e);this.length=1,this[0]=s}return this.context=o,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):w.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),w.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return v.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return w.each(this,e,t)},ready:function(e){return w.ready.promise().done(e),this},slice:function(){return this.pushStack(v.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},w.fn.init.prototype=w.fn,w.extend=w.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!w.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((s=arguments[a])!=null)for(i in s){e=u[i],r=s[i];if(u===r)continue;l&&r&&(w.isPlainObject(r)||(n=w.isArray(r)))?(n?(n=!1,o=e&&w.isArray(e)?e:[]):o=e&&w.isPlainObject(e)?e:{},u[i]=w.extend(l,o,r)):r!==t&&(u[i]=r)}return u},w.extend({noConflict:function(t){return e.$===w&&(e.$=f),t&&e.jQuery===w&&(e.jQuery=a),w},isReady:!1,readyWait:1,holdReady:function(e){e?w.readyWait++:w.ready(!0)},ready:function(e){if(e===!0?--w.readyWait:w.isReady)return;if(!o.body)return setTimeout(w.ready);w.isReady=!0;if(e!==!0&&--w.readyWait>0)return;r.resolveWith(o,[w]),w.fn.trigger&&w(o).trigger("ready").off("ready")},isFunction:function(e){return w.type(e)==="function"},isArray:Array.isArray||function(e){return w.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):typeof e=="object"||typeof e=="function"?l[g.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||w.type(e)!=="object"||e.nodeType||w.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||y.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||o;var r=N.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=w.buildFragment([e],t,i),i&&w(i).remove(),w.merge([],r.childNodes))},parseJSON:function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(t===null)return t;if(typeof t=="string"){t=w.trim(t);if(t&&C.test(t.replace(L,"@").replace(A,"]").replace(k,"")))return(new Function("return "+t))()}w.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&w.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&w.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(O,"ms-").replace(M,_)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=H(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:b&&!b.call("﻿ ")?function(e){return e==null?"":b.call(e)}:function(e){return e==null?"":(e+"").replace(x,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(H(Object(e))?w.merge(n,typeof e=="string"?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=H(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),r!=null&&(u[u.length]=r);return p.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(s=e[n],n=e,e=s),w.isFunction(e)?(r=v.call(arguments,2),i=function(){return e.apply(n||this,r.concat(v.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i):t},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=r==null;if(w.type(r)==="object"){s=!0;for(a in r)w.access(e,n,a,r[a],!0,o,u)}else if(i!==t){s=!0,w.isFunction(i)||(u=!0),l&&(u?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(w(e),n)}));if(n)for(;a<f;a++)n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)))}return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()}}),w.ready.promise=function(t){if(!r){r=w.Deferred();if(o.readyState==="complete")setTimeout(w.ready);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",D,!1),e.addEventListener("load",D,!1);else{o.attachEvent("onreadystatechange",D),e.attachEvent("onload",D);var n=!1;try{n=e.frameElement==null&&o.documentElement}catch(i){}n&&n.doScroll&&function s(){if(!w.isReady){try{n.doScroll("left")}catch(e){return setTimeout(s,50)}P(),w.ready()}}()}}return r.promise(t)},w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()}),i=w(o);var B={};w.Callbacks=function(e){e=typeof e=="string"?B[e]||j(e):w.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){r=e.memory&&t,i=!0,o=u||0,u=0,s=a.length,n=!0;for(;a&&o<s;o++)if(a[o].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,a&&(f?f.length&&l(f.shift()):r?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function i(t){w.each(t,function(t,n){var r=w.type(n);r==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&r!=="string"&&i(n)})})(arguments),n?s=a.length:r&&(u=t,l(r))}return this},remove:function(){return a&&w.each(arguments,function(e,t){var r;while((r=w.inArray(t,a,r))>-1)a.splice(r,1),n&&(r<=s&&s--,r<=o&&o--)}),this},has:function(e){return e?w.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],this},disable:function(){return a=f=r=t,this},disabled:function(){return!a},lock:function(){return f=t,r||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!i||f)&&(n?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},w.extend({Deferred:function(e){var t=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),"rejected"],["notify","progress",w.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,s){var o=s[0],u=w.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&w.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?w.extend(e,r):r}},i={};return r.pipe=r.then,w.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=v.call(arguments),r=n.length,i=r!==1||e&&w.isFunction(e.promise)?r:0,s=i===1?e:w.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?v.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&w.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),w.support=function(){var t,n,r,i,u,a,f,l,c,h,p=o.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};u=o.createElement("select"),f=u.appendChild(o.createElement("option")),i=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:p.className!=="t",leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!i.value,optSelected:f.selected,enctype:!!o.createElement("form").enctype,html5Clone:o.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:o.compatMode==="CSS1Compat",deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,u.disabled=!0,t.optDisabled=!f.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}i=o.createElement("input"),i.setAttribute("value",""),t.input=i.getAttribute("value")==="",i.value="t",i.setAttribute("type","radio"),t.radioValue=i.value==="t",i.setAttribute("checked","t"),i.setAttribute("name","t"),a=o.createDocumentFragment(),a.appendChild(i),t.appendChecked=i.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+h,"t"),t[h+"Bubbles"]=l in e||p.attributes[l].expando===!1;return p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle=p.style.backgroundClip==="content-box",w(function(){var n,r,i,u="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=o.getElementsByTagName("body")[0];if(!a)return;n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=p.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=i[0].offsetHeight===0,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&i[0].offsetHeight===0,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=p.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(p,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(p,null)||{width:"4px"}).width==="4px",r=p.appendChild(o.createElement("div")),r.style.cssText=p.style.cssText=u,r.style.marginRight=r.style.width="0",p.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof p.style.zoom!==s&&(p.innerHTML="",p.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",t.shrinkWrapBlocks=p.offsetWidth!==3,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=p=i=r=null}),n=u=a=f=r=i=null,t}();var F=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,I=/([A-Z])/g;w.extend({cache:{},expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?w.cache[e[w.expando]]:e[w.expando],!!e&&!z(e)},data:function(e,t,n){return q(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return q(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&e.nodeType!==1&&e.nodeType!==9)return!1;var t=e.nodeName&&w.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),w.fn.extend({data:function(e,n){var r,i,s=this[0],o=0,u=null;if(e===t){if(this.length){u=w.data(s);if(s.nodeType===1&&!w._data(s,"parsedAttrs")){r=s.attributes;for(;o<r.length;o++)i=r[o].name,i.indexOf("data-")||(i=w.camelCase(i.slice(5)),U(s,i,u[i]));w._data(s,"parsedAttrs",!0)}}return u}return typeof e=="object"?this.each(function(){w.data(this,e)}):w.access(this,function(n){if(n===t)return s?U(s,e,w.data(s,e)):null;this.each(function(){w.data(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){w.removeData(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=w._data(e,t),n&&(!r||w.isArray(n)?r=w._data(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),s=w._queueHooks(e,t),o=function(){w.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),s.cur=i,i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return w._data(e,n)||w._data(e,n,{empty:w.Callbacks("once memory").add(function(){w._removeData(e,t+"queue"),w._removeData(e,n)})})}}),w.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?w.queue(this[0],e):n===t?this:this.each(function(){var t=w.queue(this,e,n);w._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},delay:function(e,t){return e=w.fx?w.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=w.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=w._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var W,X,V=/[\t\r\n]/g,$=/\r/g,J=/^(?:input|select|textarea|button|object)$/i,K=/^(?:a|area)$/i,Q=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,G=/^(?:checked|selected)$/i,Y=w.support.getSetAttribute,Z=w.support.input;w.fn.extend({attr:function(e,t){return w.access(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})},prop:function(e,t){return w.access(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return e=w.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=typeof e=="string"&&e;if(w.isFunction(e))return this.each(function(t){w(this).addClass(e.call(this,t,this.className))});if(a){t=(e||"").match(S)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(V," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=w.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=arguments.length===0||typeof e=="string"&&e;if(w.isFunction(e))return this.each(function(t){w(this).removeClass(e.call(this,t,this.className))});if(a){t=(e||"").match(S)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(V," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?w.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return w.isFunction(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,o=0,u=w(this),a=t,f=e.match(S)||[];while(i=f[o++])a=r?a:!u.hasClass(i),u[a?"addClass":"removeClass"](i)}else if(n===s||n==="boolean")this.className&&w._data(this,"__className__",this.className),this.className=this.className||e===!1?"":w._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(V," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return r=w.valHooks[s.type]||w.valHooks[s.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(s,"value"))!==t?n:(n=s.value,typeof n=="string"?n.replace($,""):n==null?"":n);return}return i=w.isFunction(e),this.each(function(n){var s,o=w(this);if(this.nodeType!==1)return;i?s=e.call(this,n,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":w.isArray(s)&&(s=w.map(s,function(e){return e==null?"":e+""})),r=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()];if(!r||!("set"in r)||r.set(this,s,"value")===t)this.value=s})}}),w.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(w.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!w.nodeName(n.parentNode,"optgroup"))){t=w(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=w.makeArray(t);return w(e).find("option").each(function(){this.selected=w.inArray(w(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var i,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(typeof e.getAttribute===s)return w.prop(e,n,r);o=a!==1||!w.isXMLDoc(e),o&&(n=n.toLowerCase(),i=w.attrHooks[n]||(Q.test(n)?X:W));if(r===t)return i&&o&&"get"in i&&(u=i.get(e,n))!==null?u:(typeof e.getAttribute!==s&&(u=e.getAttribute(n)),u==null?t:u);if(r!==null)return i&&o&&"set"in i&&(u=i.set(e,r,n))!==t?u:(e.setAttribute(n,r+""),r);w.removeAttr(e,n)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(S);if(s&&e.nodeType===1)while(n=s[i++])r=w.propFix[n]||n,Q.test(n)?!Y&&G.test(n)?e[w.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:w.attr(e,n,""),e.removeAttribute(Y?n:r)},attrHooks:{type:{set:function(e,t){if(!w.support.radioValue&&t==="radio"&&w.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!w.isXMLDoc(e),o&&(n=w.propFix[n]||n,s=w.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):J.test(e.nodeName)||K.test(e.nodeName)&&e.href?0:t}}}}),X={get:function(e,n){var r=w.prop(e,n),i=typeof r=="boolean"&&e.getAttribute(n),s=typeof r=="boolean"?Z&&Y?i!=null:G.test(n)?e[w.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return s&&s.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?w.removeAttr(e,n):Z&&Y||!G.test(n)?e.setAttribute(!Y&&w.propFix[n]||n,n):e[w.camelCase("default-"+n)]=e[n]=!0,n}};if(!Z||!Y)w.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return w.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,t,n){if(!w.nodeName(e,"input"))return W&&W.set(e,t,n);e.defaultValue=t}};Y||(W=w.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&(n==="id"||n==="name"||n==="coords"?r.value!=="":r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="",r==="value"||n===e.getAttribute(r)?n:t}},w.attrHooks.contenteditable={get:W.get,set:function(e,t,n){W.set(e,t===""?!1:t,n)}},w.each(["width","height"],function(e,t){w.attrHooks[t]=w.extend(w.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})})),w.support.hrefNormalized||(w.each(["href","src","width","height"],function(e,n){w.attrHooks[n]=w.extend(w.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r==null?t:r}})}),w.each(["href","src"],function(e,t){w.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),w.support.style||(w.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),w.support.optSelected||(w.propHooks.selected=w.extend(w.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),w.support.enctype||(w.propFix.enctype="encoding"),w.support.checkOn||w.each(["radio","checkbox"],function(){w.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]=w.extend(w.valHooks[this],{set:function(e,t){if(w.isArray(t))return e.checked=w.inArray(w(e).val(),t)>=0}})});var et=/^(?:input|select|textarea)$/i,tt=/^key/,nt=/^(?:mouse|contextmenu)|click/,rt=/^(?:focusinfocus|focusoutblur)$/,it=/^([^.]*)(?:\.(.+)|)$/;w.event={global:{},add:function(e,n,r,i,o){var u,a,f,l,c,h,p,d,v,m,g,y=w._data(e);if(!y)return;r.handler&&(l=r,r=l.handler,o=l.selector),r.guid||(r.guid=w.guid++),(a=y.events)||(a=y.events={}),(h=y.handle)||(h=y.handle=function(e){return typeof w===s||!!e&&w.event.triggered===e.type?t:w.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(S)||[""],f=n.length;while(f--){u=it.exec(n[f])||[],v=g=u[1],m=(u[2]||"").split(".").sort(),c=w.event.special[v]||{},v=(o?c.delegateType:c.bindType)||v,c=w.event.special[v]||{},p=w.extend({type:v,origType:g,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:m.join(".")},l);if(!(d=a[v])){d=a[v]=[],d.delegateCount=0;if(!c.setup||c.setup.call(e,i,m,h)===!1)e.addEventListener?e.addEventListener(v,h,!1):e.attachEvent&&e.attachEvent("on"+v,h)}c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),w.event.global[v]=!0}e=null},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=w.hasData(e)&&w._data(e);if(!m||!(l=m.events))return;t=(t||"").match(S)||[""],f=t.length;while(f--){u=it.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in l)w.event.remove(e,p+t[f],n,r,!0);continue}c=w.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=l[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;while(s--)o=h[s],(i||v===o.origType)&&(!n||n.guid===o.guid)&&(!u||u.test(o.namespace))&&(!r||r===o.selector||r==="**"&&o.selector)&&(h.splice(s,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));a&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&w.removeEvent(e,p,m.handle),delete l[p])}w.isEmptyObject(l)&&(delete m.handle,w._removeData(e,"events"))},trigger:function(n,r,i,s){var u,a,f,l,c,h,p,d=[i||o],v=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];f=h=i=i||o;if(i.nodeType===3||i.nodeType===8)return;if(rt.test(v+w.event.triggered))return;v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),a=v.indexOf(":")<0&&"on"+v,n=n[w.expando]?n:new w.Event(v,typeof n=="object"&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=r==null?[n]:w.makeArray(r,[n]),c=w.event.special[v]||{};if(!s&&c.trigger&&c.trigger.apply(i,r)===!1)return;if(!s&&!c.noBubble&&!w.isWindow(i)){l=c.delegateType||v,rt.test(l+v)||(f=f.parentNode);for(;f;f=f.parentNode)d.push(f),h=f;h===(i.ownerDocument||o)&&d.push(h.defaultView||h.parentWindow||e)}p=0;while((f=d[p++])&&!n.isPropagationStopped())n.type=p>1?l:c.bindType||v,u=(w._data(f,"events")||{})[n.type]&&w._data(f,"handle"),u&&u.apply(f,r),u=a&&f[a],u&&w.acceptData(f)&&u.apply&&u.apply(f,r)===!1&&n.preventDefault();n.type=v;if(!s&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(i.ownerDocument,r)===!1)&&(v!=="click"||!w.nodeName(i,"a"))&&w.acceptData(i)&&a&&i[v]&&!w.isWindow(i)){h=i[a],h&&(i[a]=null),w.event.triggered=v;try{i[v]()}catch(g){}w.event.triggered=t,h&&(i[a]=h)}return n.result},dispatch:function(e){e=w.event.fix(e);var n,r,i,s,o,u=[],a=v.call(arguments),f=(w._data(this,"events")||{})[e.type]||[],l=w.event.special[e.type]||{};a[0]=e,e.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,e)===!1)return;u=w.event.handlers.call(this,e,f),n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(i.namespace))e.handleObj=i,e.data=i.data,r=((w.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return l.postDispatch&&l.postDispatch.call(this,e),e.result},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||e.type!=="click"))for(;f!=this;f=f.parentNode||this)if(f.nodeType===1&&(f.disabled!==!0||e.type!=="click")){s=[];for(o=0;o<a;o++)i=n[o],r=i.selector+" ",s[r]===t&&(s[r]=i.needsContext?w(r,this).index(f)>=0:w.find(r,this,null,[f]).length),s[r]&&s.push(i);s.length&&u.push({elem:f,handlers:s})}return a<n.length&&u.push({elem:this,handlers:n.slice(a)}),u},fix:function(e){if(e[w.expando])return e;var t,n,r,i=e.type,s=e,u=this.fixHooks[i];u||(this.fixHooks[i]=u=nt.test(i)?this.mouseHooks:tt.test(i)?this.keyHooks:{}),r=u.props?this.props.concat(u.props):this.props,e=new w.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||o),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,u.filter?u.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(i=e.target.ownerDocument||o,s=i.documentElement,r=i.body,e.pageX=n.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){if(w.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==o.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===o.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=w.extend(new w.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?w.event.trigger(i,null,t):w.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},w.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===s&&(e[r]=null),e.detachEvent(r,n))},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?st:ot):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||w.now(),this[w.expando]=!0},w.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=st;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=st;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=st,this.stopPropagation()}},w.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!w.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),w.support.submitBubbles||(w.event.special.submit={setup:function(){if(w.nodeName(this,"form"))return!1;w.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=w.nodeName(n,"input")||w.nodeName(n,"button")?n.form:t;r&&!w._data(r,"submitBubbles")&&(w.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),w._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&w.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(w.nodeName(this,"form"))return!1;w.event.remove(this,"._submit")}}),w.support.changeBubbles||(w.event.special.change={setup:function(){if(et.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")w.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),w.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),w.event.simulate("change",this,e,!0)});return!1}w.event.add(this,"beforeactivate._change",function(e){var t=e.target;et.test(t.nodeName)&&!w._data(t,"changeBubbles")&&(w.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&w.event.simulate("change",this.parentNode,e,!0)}),w._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return w.event.remove(this,"._change"),!et.test(this.nodeName)}}),w.support.focusinBubbles||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){w.event.simulate(t,e.target,w.event.fix(e),!0)};w.event.special[t]={setup:function(){n++===0&&o.addEventListener(e,r,!0)},teardown:function(){--n===0&&o.removeEventListener(e,r,!0)}}}),w.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=ot;else if(!i)return this;return s===1&&(u=i,i=function(e){return w().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=w.guid++)),this.each(function(){w.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=ot),this.each(function(){w.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),function(e,t){function rt(e){return J.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function st(e){return e[b]=!0,e}function ot(e){var t=c.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function ut(e,t,n,r){var i,s,o,u,a,f,h,v,m,y;(t?t.ownerDocument||t:E)!==c&&l(t),t=t||c,n=n||[];if(!e||typeof e!="string")return n;if((u=t.nodeType)!==1&&u!==9)return[];if(!p&&!r){if(i=K.exec(e))if(o=i[1]){if(u===9){s=t.getElementById(o);if(!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&g(t,s)&&s.id===o)return n.push(s),n}else{if(i[2])return _.apply(n,D.call(t.getElementsByTagName(e),0)),n;if((o=i[3])&&S.getByClassName&&t.getElementsByClassName)return _.apply(n,D.call(t.getElementsByClassName(o),0)),n}if(S.qsa&&!d.test(e)){h=!0,v=b,m=t,y=u===9&&e;if(u===1&&t.nodeName.toLowerCase()!=="object"){f=ht(e),(h=t.getAttribute("id"))?v=h.replace(Y,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",a=f.length;while(a--)f[a]=v+pt(f[a]);m=$.test(e)&&t.parentNode||t,y=f.join(",")}if(y)try{return _.apply(n,D.call(m.querySelectorAll(y),0)),n}catch(w){}finally{h||t.removeAttribute("id")}}}return Et(e.replace(R,"$1"),t,n,r)}function at(e,t){var n=t&&e,r=n&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ct(e){return st(function(t){return t=+t,st(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ht(e,t){var n,r,s,o,u,a,f,l=C[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=U.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=z.exec(u))n=r.shift(),s.push({value:n,type:r[0].replace(R," ")}),u=u.slice(n.length);for(o in i.filter)(r=V[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(n=r.shift(),s.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ut.error(e):C(e,a).slice(0)}function pt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function dt(e,t,n){var i=t.dir,s=n&&i==="parentNode",o=T++;return t.first?function(t,n,r){while(t=t[i])if(t.nodeType===1||s)return e(t,n,r)}:function(t,n,u){var a,f,l,c=x+" "+o;if(u){while(t=t[i])if(t.nodeType===1||s)if(e(t,n,u))return!0}else while(t=t[i])if(t.nodeType===1||s){l=t[b]||(t[b]={});if((f=l[i])&&f[0]===c){if((a=f[1])===!0||a===r)return a===!0}else{f=l[i]=[c],f[1]=e(t,n,u)||r;if(f[1]===!0)return!0}}}}function vt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function gt(e,t,n,r,i,s){return r&&!r[b]&&(r=gt(r)),i&&!i[b]&&(i=gt(i,s)),st(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||wt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?mt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=mt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=mt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function yt(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,l=dt(function(e){return e===t},u,!0),c=dt(function(e){return P.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[dt(vt(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[b]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return gt(a>1&&vt(h),a>1&&pt(e.slice(0,a-1)).replace(R,"$1"),n,a<r&&yt(e.slice(a,r)),r<s&&yt(e=e.slice(r)),r<s&&pt(e))}h.push(n)}return vt(h)}function bt(e,t){var n=0,s=t.length>0,o=e.length>0,u=function(u,a,l,h,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=p!=null,S=f,T=u||o&&i.find.TAG("*",p&&a.parentNode||a),N=x+=S==null?1:Math.random()||.1;E&&(f=a!==c&&a,r=n);for(;(d=T[b])!=null;b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){h.push(d);break}E&&(x=N,r=++n)}s&&((d=!m&&d)&&y--,u&&w.push(d))}y+=b;if(s&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)!w[b]&&!g[b]&&(g[b]=M.call(h));g=mt(g)}_.apply(h,g),E&&!u&&g.length>0&&y+t.length>1&&ut.uniqueSort(h)}return E&&(x=N,f=S),w};return s?st(u):u}function wt(e,t,n){var r=0,i=t.length;for(;r<i;r++)ut(e,t[r],n);return n}function Et(e,t,n,r){var s,o,a,f,l,c=ht(e);if(!r&&c.length===1){o=c[0]=c[0].slice(0);if(o.length>2&&(a=o[0]).type==="ID"&&t.nodeType===9&&!p&&i.relative[o[1].type]){t=i.find.ID(a.matches[0].replace(et,tt),t)[0];if(!t)return n;e=e.slice(o.shift().value.length)}s=V.needsContext.test(e)?0:o.length;while(s--){a=o[s];if(i.relative[f=a.type])break;if(l=i.find[f])if(r=l(a.matches[0].replace(et,tt),$.test(o[0].type)&&t.parentNode||t)){o.splice(s,1),e=r.length&&pt(o);if(!e)return _.apply(n,D.call(r,0)),n;break}}}return u(e,c)(r,t,p,n,$.test(e)),n}function St(){}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b="sizzle"+ -(new Date),E=e.document,S={},x=0,T=0,N=it(),C=it(),k=it(),L=typeof t,A=1<<31,O=[],M=O.pop,_=O.push,D=O.slice,P=O.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},H="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j=B.replace("w","w#"),F="([*^$|!~]?=)",I="\\["+H+"*("+B+")"+H+"*(?:"+F+H+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+j+")|)|)"+H+"*\\]",q=":("+B+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",R=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),U=new RegExp("^"+H+"*,"+H+"*"),z=new RegExp("^"+H+"*([\\x20\\t\\r\\n\\f>+~])"+H+"*"),W=new RegExp(q),X=new RegExp("^"+j+"$"),V={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),NAME:new RegExp("^\\[name=['\"]?("+B+")['\"]?\\]"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},$=/[\x20\t\r\n\f]*[+~]/,J=/^[^{]+\{\s*\[native code/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)};try{D.call(E.documentElement.childNodes,0)[0].nodeType}catch(nt){D=function(e){var t,n=[];while(t=this[e++])n.push(t);return n}}o=ut.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},l=ut.setDocument=function(e){var n=e?e.ownerDocument||e:E;if(n===c||n.nodeType!==9||!n.documentElement)return c;c=n,h=n.documentElement,p=o(n),S.tagNameNoComments=ot(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),S.attributes=ot(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),S.getByClassName=ot(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),S.getByName=ot(function(e){e.id=b+0,e.innerHTML="<a name='"+b+"'></a><div name='"+b+"'></div>",h.insertBefore(e,h.firstChild);var t=n.getElementsByName&&n.getElementsByName(b).length===2+n.getElementsByName(b+0).length;return S.getIdNotName=!n.getElementById(b),h.removeChild(e),t}),i.attrHandle=ot(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==L&&e.firstChild.getAttribute("href")==="#"})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},S.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==L&&!p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==L&&!p){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==L&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=S.tagNameNoComments?function(e,t){if(typeof t.getElementsByTagName!==L)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},i.find.NAME=S.getByName&&function(e,t){if(typeof t.getElementsByName!==L)return t.getElementsByName(name)},i.find.CLASS=S.getByClassName&&function(e,t){if(typeof t.getElementsByClassName!==L&&!p)return t.getElementsByClassName(e)},v=[],d=[":focus"];if(S.qsa=rt(n.querySelectorAll))ot(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+H+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||d.push(":checked")}),ot(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&d.push("[*^$]="+H+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")});return(S.matchesSelector=rt(m=h.matchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(e){S.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),v.push("!=",q)}),d=new RegExp(d.join("|")),v=new RegExp(v.join("|")),g=rt(h.contains)||h.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},y=h.compareDocumentPosition?function(e,t){var r;if(e===t)return a=!0,0;if(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))return r&1||e.parentNode&&e.parentNode.nodeType===11?e===n||g(E,e)?-1:t===n||g(E,t)?1:0:r&4?-1:1;return e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,s=e.parentNode,o=t.parentNode,u=[e],f=[t];if(e===t)return a=!0,0;if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:0;if(s===o)return at(e,t);r=e;while(r=r.parentNode)u.unshift(r);r=t;while(r=r.parentNode)f.unshift(r);while(u[i]===f[i])i++;return i?at(u[i],f[i]):u[i]===E?-1:f[i]===E?1:0},a=!1,[0,0].sort(y),S.detectDuplicates=a,c},ut.matches=function(e,t){return ut(e,null,null,t)},ut.matchesSelector=function(e,t){(e.ownerDocument||e)!==c&&l(e),t=t.replace(Z,"='$1']");if(S.matchesSelector&&!p&&(!v||!v.test(t))&&!d.test(t))try{var n=m.call(e,t);if(n||S.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(r){}return ut(t,c,null,[e]).length>0},ut.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),g(e,t)},ut.attr=function(e,t){var n;return(e.ownerDocument||e)!==c&&l(e),p||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):p||S.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},ut.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ut.uniqueSort=function(e){var t,n=[],r=1,i=0;a=!S.detectDuplicates,e.sort(y);if(a){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},s=ut.getText=function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r];r++)n+=s(t);else if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue;return n},i=ut.selectors={cacheLength:50,createPseudo:st,match:V,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ut.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ut.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return V.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&W.test(n)&&(t=ht(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=N[e+" "];return t||(t=new RegExp("(^|"+H+")"+e+"("+H+"|$)"))&&N(e,function(e){return t.test(e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ut.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[b]||(m[b]={}),f=l[e]||[],p=f[0]===x&&f[1],h=f[0]===x&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[x,p,h];break}}else if(y&&(f=(t[b]||(t[b]={}))[e])&&f[0]===x)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[b]||(c[b]={}))[e]=[x,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ut.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=P.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:st(function(e){var t=[],n=[],r=u(e.replace(R,"$1"));return r[b]?st(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:st(function(e){return function(t){return ut(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),lang:st(function(e){return X.test(e||"")||ut.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=p?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:ct(function(){return[0]}),last:ct(function(e,t){return[t-1]}),eq:ct(function(e,t,n){return[n<0?n+t:n]}),even:ct(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:ct(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:ct(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ct(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=lt(n);u=ut.compile=function(e,t){var n,r=[],i=[],s=k[e+" "];if(!s){t||(t=ht(e)),n=t.length;while(n--)s=yt(t[n]),s[b]?r.push(s):i.push(s);s=k(e,bt(i,r))}return s},i.pseudos.nth=i.pseudos.eq,i.filters=St.prototype=i.pseudos,i.setFilters=new St,l(),ut.attr=w.attr,w.find=ut,w.expr=ut.selectors,w.expr[":"]=w.expr.pseudos,w.unique=ut.uniqueSort,w.text=ut.getText,w.isXMLDoc=ut.isXML,w.contains=ut.contains}(e);var ut=/Until$/,at=/^(?:parents|prev(?:Until|All))/,ft=/^.[^:#\[\.,]*$/,lt=w.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({find:function(e){var t,n,r,i=this.length;if(typeof e!="string")return r=this,this.pushStack(w(e).filter(function(){for(t=0;t<i;t++)if(w.contains(r[t],this))return!0}));n=[];for(t=0;t<i;t++)w.find(e,this[t],n);return n=this.pushStack(i>1?w.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=w(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(w.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(pt(this,e,!1))},filter:function(e){return this.pushStack(pt(this,e,!0))},is:function(e){return!!e&&(typeof e=="string"?lt.test(e)?w(e,this.context).index(this[0])>=0:w.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=lt.test(e)||typeof e!="string"?w(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:w.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return this.pushStack(s.length>1?w.unique(s):s)},index:function(e){return e?typeof e=="string"?w.inArray(this[0],w(e)):w.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?w(e,t):w.makeArray(e&&e.nodeType?[e]:e),r=w.merge(this.get(),n);return this.pushStack(w.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),w.fn.andSelf=w.fn.addBack,w.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return w.dir(e,"parentNode")},parentsUntil:function(e,t,n){return w.dir(e,"parentNode",n)},next:function(e){return ht(e,"nextSibling")},prev:function(e){return ht(e,"previousSibling")},nextAll:function(e){return w.dir(e,"nextSibling")},prevAll:function(e){return w.dir(e,"previousSibling")},nextUntil:function(e,t,n){return w.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return w.dir(e,"previousSibling",n)},siblings:function(e){return w.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return w.sibling(e.firstChild)},contents:function(e){return w.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:w.merge([],e.childNodes)}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return ut.test(e)||(r=n),r&&typeof r=="string"&&(i=w.filter(r,i)),i=this.length>1&&!ct[e]?w.unique(i):i,this.length>1&&at.test(e)&&(i=i.reverse()),this.pushStack(i)}}),w.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?w.find.matchesSelector(t[0],e)?[t[0]]:[]:w.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!w(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var vt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",mt=/ jQuery\d+="(?:null|\d+)"/g,gt=new RegExp("<(?:"+vt+")[\\s/>]","i"),yt=/^\s+/,bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wt=/<([\w:]+)/,Et=/<tbody/i,St=/<|&#?\w+;/,xt=/<(?:script|style|link)/i,Tt=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ct=/^$|\/(?:java|ecma)script/i,kt=/^true\/(.*)/,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:w.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ot=dt(o),Mt=Ot.appendChild(o.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,w.fn.extend({text:function(e){return w.access(this,function(e){return e===t?w.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(w.isFunction(e))return this.each(function(t){w(this).wrapAll(e.call(this,t))});if(this[0]){var t=w(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return w.isFunction(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=w.isFunction(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){w.nodeName(this,"body")||w(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||w.filter(e,[n]).length>0)!t&&n.nodeType===1&&w.cleanData(Ft(n)),n.parentNode&&(t&&w.contains(n.ownerDocument,n)&&Ht(Ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&w.cleanData(Ft(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&w.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return w.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(mt,""):t;if(typeof e=="string"&&!xt.test(e)&&(w.support.htmlSerialize||!gt.test(e))&&(w.support.leadingWhitespace||!yt.test(e))&&!At[(wt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(bt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(w.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=w.isFunction(e);return!t&&typeof e!="string"&&(e=w(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(w(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=p.apply([],e);var i,s,o,u,a,f,l=0,c=this.length,h=this,d=c-1,v=e[0],m=w.isFunction(v);if(m||!(c<=1||typeof v!="string"||w.support.checkClone||!Nt.test(v)))return this.each(function(i){var s=h.eq(i);m&&(e[0]=v.call(this,i,n?s.html():t)),s.domManip(e,n,r)});if(c){f=w.buildFragment(e,this[0].ownerDocument,!1,this),i=f.firstChild,f.childNodes.length===1&&(f=i);if(i){n=n&&w.nodeName(i,"tr"),u=w.map(Ft(f,"script"),Dt),o=u.length;for(;l<c;l++)s=f,l!==d&&(s=w.clone(s,!0,!0),o&&w.merge(u,Ft(s,"script"))),r.call(n&&w.nodeName(this[l],"table")?_t(this[l],"tbody"):this[l],s,l);if(o){a=u[u.length-1].ownerDocument,w.map(u,Pt);for(l=0;l<o;l++)s=u[l],Ct.test(s.type||"")&&!w._data(s,"globalEval")&&w.contains(a,s)&&(s.src?w.ajax({url:s.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):w.globalEval((s.text||s.textContent||s.innerHTML||"").replace(Lt,"")))}f=i=null}}return this}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){var n,r=0,i=[],s=w(e),o=s.length-1;for(;r<=o;r++)n=r===o?this:this.clone(!0),w(s[r])[t](n),d.apply(i,n.get());return this.pushStack(i)}}),w.extend({clone:function(e,t,n){var r,i,s,o,u,a=w.contains(e.ownerDocument,e);w.support.html5Clone||w.isXMLDoc(e)||!gt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Mt.innerHTML=e.outerHTML,Mt.removeChild(s=Mt.firstChild));if((!w.support.noCloneEvent||!w.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!w.isXMLDoc(e)){r=Ft(s),u=Ft(e);for(o=0;(i=u[o])!=null;++o)r[o]&&jt(i,r[o])}if(t)if(n){u=u||Ft(e),r=r||Ft(s);for(o=0;(i=u[o])!=null;o++)Bt(i,r[o])}else Bt(e,s);return r=Ft(s,"script"),r.length>0&&Ht(r,!a&&Ft(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=dt(t),p=[],d=0;for(;d<c;d++){s=e[d];if(s||s===0)if(w.type(s)==="object")w.merge(p,s.nodeType?[s]:s);else if(!St.test(s))p.push(t.createTextNode(s));else{u=u||h.appendChild(t.createElement("div")),a=(wt.exec(s)||["",""])[1].toLowerCase(),l=At[a]||At._default,u.innerHTML=l[1]+s.replace(bt,"<$1></$2>")+l[2],i=l[0];while(i--)u=u.lastChild;!w.support.leadingWhitespace&&yt.test(s)&&p.push(t.createTextNode(yt.exec(s)[0]));if(!w.support.tbody){s=a==="table"&&!Et.test(s)?u.firstChild:l[1]==="<table>"&&!Et.test(s)?u:0,i=s&&s.childNodes.length;while(i--)w.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}w.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}}u&&h.removeChild(u),w.support.appendChecked||w.grep(Ft(p,"input"),It),d=0;while(s=p[d++]){if(r&&w.inArray(s,r)!==-1)continue;o=w.contains(s.ownerDocument,s),u=Ft(h.appendChild(s),"script"),o&&Ht(u);if(n){i=0;while(s=u[i++])Ct.test(s.type||"")&&n.push(s)}}return u=null,h},cleanData:function(e,t){var n,r,i,o,u=0,a=w.expando,f=w.cache,l=w.support.deleteExpando,h=w.event.special;for(;(n=e[u])!=null;u++)if(t||w.acceptData(n)){i=n[a],o=i&&f[i];if(o){if(o.events)for(r in o.events)h[r]?w.event.remove(n,r):w.removeEvent(n,r,o.handle);f[i]&&(delete f[i],l?delete n[a]:typeof n.removeAttribute!==s?n.removeAttribute(a):n[a]=null,c.push(i))}}}});var qt,Rt,Ut,zt=/alpha\([^)]*\)/i,Wt=/opacity\s*=\s*([^)]*)/,Xt=/^(top|right|bottom|left)$/,Vt=/^(none|table(?!-c[ea]).+)/,$t=/^margin/,Jt=new RegExp("^("+E+")(.*)$","i"),Kt=new RegExp("^("+E+")(?!px)[a-z%]+$","i"),Qt=new RegExp("^([+-])=("+E+")","i"),Gt={BODY:"block"},Yt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:0,fontWeight:400},en=["Top","Right","Bottom","Left"],tn=["Webkit","O","Moz","ms"];w.fn.extend({css:function(e,n){return w.access(this,function(e,n,r){var i,s,o={},u=0;if(w.isArray(n)){s=Rt(e),i=n.length;for(;u<i;u++)o[n[u]]=w.css(e,n[u],!1,s);return o}return r!==t?w.style(e,n,r):w.css(e,n)},e,n,arguments.length>1)},show:function(){return sn(this,!0)},hide:function(){return sn(this)},toggle:function(e){var t=typeof e=="boolean";return this.each(function(){(t?e:rn(this))?w(this).show():w(this).hide()})}}),w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ut(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":w.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=w.camelCase(n),f=e.style;n=w.cssProps[a]||(w.cssProps[a]=nn(f,a)),u=w.cssHooks[n]||w.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=Qt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(w.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!w.cssNumber[a]&&(r+="px"),!w.support.clearCloneStyle&&r===""&&n.indexOf("background")===0&&(f[n]="inherit");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=w.camelCase(n);return n=w.cssProps[a]||(w.cssProps[a]=nn(e.style,a)),u=w.cssHooks[n]||w.cssHooks[a],u&&"get"in u&&(o=u.get(e,!0,r)),o===t&&(o=Ut(e,n,i)),o==="normal"&&n in Zt&&(o=Zt[n]),r===""||r?(s=parseFloat(o),r===!0||w.isNumeric(s)?s||0:o):o},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Ut=function(e,n,r){var i,s,o,u=r||Rt(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;return u&&(a===""&&!w.contains(e.ownerDocument,e)&&(a=w.style(e,n)),Kt.test(a)&&$t.test(n)&&(i=f.width,s=f.minWidth,o=f.maxWidth,f.minWidth=f.maxWidth=f.width=a,a=u.width,f.width=i,f.minWidth=s,f.maxWidth=o)),a}):o.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Ut=function(e,n,r){var i,s,o,u=r||Rt(e),a=u?u[n]:t,f=e.style;return a==null&&f&&f[n]&&(a=f[n]),Kt.test(a)&&!Xt.test(n)&&(i=f.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),f.left=n==="fontSize"?"1em":a,a=f.pixelLeft+"px",f.left=i,o&&(s.left=o)),a===""?"auto":a}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&Vt.test(w.css(e,"display"))?w.swap(e,Yt,function(){return an(e,t,r)}):an(e,t,r)},set:function(e,n,r){var i=r&&Rt(e);return on(e,n,r?un(e,t,r,w.support.boxSizing&&w.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),w.support.opacity||(w.cssHooks.opacity={get:function(e,t){return Wt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=w.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if((t>=1||t==="")&&w.trim(s.replace(zt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(t===""||r&&!r.filter)return}n.filter=zt.test(s)?s.replace(zt,i):s+" "+i}}),w(function(){w.support.reliableMarginRight||(w.cssHooks.marginRight={get:function(e,t){if(t)return w.swap(e,{display:"inline-block"},Ut,[e,"marginRight"])}}),!w.support.pixelPosition&&w.fn.position&&w.each(["top","left"],function(e,t){w.cssHooks[t]={get:function(e,n){if(n)return n=Ut(e,t),Kt.test(n)?w(e).position()[t]+"px":n}}})}),w.expr&&w.expr.filters&&(w.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!w.support.reliableHiddenOffsets&&(e.style&&e.style.display||w.css(e,"display"))==="none"},w.expr.filters.visible=function(e){return!w.expr.filters.hidden(e)}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+en[r]+t]=s[r]||s[r-2]||s[0];return i}},$t.test(e)||(w.cssHooks[e+t].set=on)});var cn=/%20/g,hn=/\[\]$/,pn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,vn=/^(?:input|select|textarea|keygen)/i;w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&vn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Tt.test(e))}).map(function(e,t){var n=w(this).val();return n==null?null:w.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(pn,"\r\n")}}):{name:t.name,value:n.replace(pn,"\r\n")}}).get()}}),w.param=function(e,n){var r,i=[],s=function(e,t){t=w.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=w.ajaxSettings&&w.ajaxSettings.traditional);if(w.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){s(this.name,this.value)});else for(r in e)mn(r,e[r],n,s);return i.join("&").replace(cn,"+")},w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var gn,yn,bn=w.now(),wn=/\?/,En=/#.*$/,Sn=/([?&])_=[^&]*/,xn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,Cn=/^\/\//,kn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ln=w.fn.load,An={},On={},Mn="*/".concat("*");try{yn=u.href}catch(_n){yn=o.createElement("a"),yn.href="",yn=yn.href}gn=kn.exec(yn.toLowerCase())||[],w.fn.load=function(e,n,r){if(typeof e!="string"&&Ln)return Ln.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),w.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(o="POST"),u.length>0&&w.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,u.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,s||[e.responseText,t,e])}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.each(["get","post"],function(e,n){w[n]=function(e,r,i,s){return w.isFunction(r)&&(s=s||i,i=r,r=t),w.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Tn.test(gn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":w.parseJSON,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Hn(Hn(e,w.ajaxSettings),t):Hn(w.ajaxSettings,e)},ajaxPrefilter:Dn(An),ajaxTransport:Dn(On),ajax:function(e,n){function N(e,n,r,i){var l,g,y,E,S,T=n;if(b===2)return;b=2,u&&clearTimeout(u),f=t,o=i||"",x.readyState=e>0?4:0,r&&(E=Bn(c,x,r));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(w.lastModified[s]=S),S=x.getResponseHeader("etag"),S&&(w.etag[s]=S)),e===204?(l=!0,T="nocontent"):e===304?(l=!0,T="notmodified"):(l=jn(c,E),T=l.state,g=l.data,y=l.error,l=!y);else{y=T;if(e||!T)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[g,T,x]):d.rejectWith(h,[x,T,y]),x.statusCode(m),m=t,a&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?g:y]),v.fireWith(h,[x,T]),a&&(p.trigger("ajaxComplete",[x,c]),--w.active||w.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=w.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?w(h):w.event,d=w.Deferred(),v=w.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,E="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(b===2){if(!l){l={};while(t=xn.exec(o))l[t[1].toLowerCase()]=t[2]}t=l[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return b===2?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||E;return f&&f.abort(t),N(0,t),this}};d.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||yn)+"").replace(En,"").replace(Cn,gn[1]+"//"),c.type=n.method||n.type||c.method||c.type,c.dataTypes=w.trim(c.dataType||"*").toLowerCase().match(S)||[""],c.crossDomain==null&&(r=kn.exec(c.url.toLowerCase()),c.crossDomain=!(!r||r[1]===gn[1]&&r[2]===gn[2]&&(r[3]||(r[1]==="http:"?80:443))==(gn[3]||(gn[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=w.param(c.data,c.traditional)),Pn(An,c,n,x);if(b===2)return x;a=c.global,a&&w.active++===0&&w.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Nn.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(wn.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=Sn.test(s)?s.replace(Sn,"$1_="+bn++):s+(wn.test(s)?"&":"?")+"_="+bn++)),c.ifModified&&(w.lastModified[s]&&x.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&x.setRequestHeader("If-None-Match",w.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Mn+"; q=0.01":""):c.accepts["*"]);for(i in c.headers)x.setRequestHeader(i,c.headers[i]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&b!==2){E="abort";for(i in{success:1,error:1,complete:1})x[i](c[i]);f=Pn(On,c,n,x);if(!f)N(-1,"No Transport");else{x.readyState=1,a&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{b=1,f.send(g,N)}catch(T){if(!(b<2))throw T;N(-1,T)}}return x}return x.abort()},getScript:function(e,n){return w.get(e,t,n,"script")},getJSON:function(e,t,n){return w.get(e,t,n,"json")}}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),w.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||w("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){if(t||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],In=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||w.expando+"_"+bn++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==!1&&(In.test(n.url)?"url":typeof n.data=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&In.test(n.data)&&"data");if(a||n.dataTypes[0]==="jsonp")return s=n.jsonpCallback=w.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a?n[a]=n[a].replace(In,"$1"+s):n.jsonp!==!1&&(n.url+=(wn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||w.error(s+" was not called"),u[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(s)),u&&w.isFunction(o)&&o(u[0]),u=o=t}),"script"});var qn,Rn,Un=0,zn=e.ActiveXObject&&function(){var e;for(e in qn)qn[e](t,!0)};w.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Wn()||Xn()}:Wn,Rn=w.ajaxSettings.xhr(),w.support.cors=!!Rn&&"withCredentials"in Rn,Rn=w.support.ajax=!!Rn,Rn&&w.ajaxTransport(function(n){if(!n.crossDomain||w.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=w.noop,zn&&delete qn[o]);if(i)a.readyState!==4&&a.abort();else{c={},u=a.status,f=a.getAllResponseHeaders(),typeof a.responseText=="string"&&(c.text=a.responseText);try{l=a.statusText}catch(h){l=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(p){i||s(-1,p)}c&&s(u,l,c,f)},n.async?a.readyState===4?setTimeout(r):(o=++Un,zn&&(qn||(qn={},w(e).unload(zn)),qn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Vn,$n,Jn=/^(?:toggle|show|hide)$/,Kn=new RegExp("^(?:([+-])=|)("+E+")([a-z%]*)$","i"),Qn=/queueHooks$/,Gn=[rr],Yn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=Kn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(w.cssNumber[e]?"":"px");if(r!=="px"&&u){u=w.css(i.elem,e,!0)||n||1;do a=a||".5",u/=a,w.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};w.Animation=w.extend(tr,{tweener:function(e,t){w.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Yn[n]=Yn[n]||[],Yn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}}),w.Tween=ir,ir.prototype={constructor:ir,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(w.cssNumber[n]?"":"px")},cur:function(){var e=ir.propHooks[this.prop];return e&&e.get?e.get(this):ir.propHooks._default.get(this)},run:function(e){var t,n=ir.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ir.propHooks._default.set(this),this}},ir.prototype.init.prototype=ir.prototype,ir.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=w.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):e.elem.style&&(e.elem.style[w.cssProps[e.prop]]!=null||w.cssHooks[e.prop])?w.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},ir.propHooks.scrollTop=ir.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(sr(t,!0),e,r,i)}}),w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(rn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),s=w.speed(t,n,r),o=function(){var t=tr(this,w.extend({},e),s);o.finish=function(){t.stop(!0)},(i||w._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=w.timers,o=w._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Qn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&w.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=w._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=w.timers,o=r?r.length:0;n.finish=!0,w.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each({slideDown:sr("show"),slideUp:sr("hide"),slideToggle:sr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.speed=function(e,t,n){var r=e&&typeof e=="object"?w.extend({},e):{complete:n||!n&&t||w.isFunction(e)&&e,duration:e,easing:n&&t||t&&!w.isFunction(t)&&t};r.duration=w.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in w.fx.speeds?w.fx.speeds[r.duration]:w.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){w.isFunction(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},w.timers=[],w.fx=ir.prototype.init,w.fx.tick=function(){var e,n=w.timers,r=0;Vn=w.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||w.fx.stop(),Vn=t},w.fx.timer=function(e){e()&&w.timers.push(e)&&w.fx.start()},w.fx.interval=13,w.fx.start=function(){$n||($n=setInterval(w.fx.tick,w.fx.interval))},w.fx.stop=function(){clearInterval($n),$n=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fx.step={},w.expr&&w.expr.filters&&(w.expr.filters.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length}),w.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){w.offset.setOffset(this,e,t)});var n,r,i={top:0,left:0},o=this[0],u=o&&o.ownerDocument;if(!u)return;return n=u.documentElement,w.contains(n,o)?(typeof o.getBoundingClientRect!==s&&(i=o.getBoundingClientRect()),r=or(u),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},w.offset={setOffset:function(e,t,n){var r=w.css(e,"position");r==="static"&&(e.style.position="relative");var i=w(e),s=i.offset(),o=w.css(e,"top"),u=w.css(e,"left"),a=(r==="absolute"||r==="fixed")&&w.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),w.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},w.fn.extend({position:function(){if(!this[0])return;var e,t,n={top:0,left:0},r=this[0];return w.css(r,"position")==="fixed"?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),w.nodeName(e[0],"html")||(n=e.offset()),n.top+=w.css(e[0],"borderTopWidth",!0),n.left+=w.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-w.css(r,"marginTop",!0),left:t.left-n.left-w.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.documentElement;while(e&&!w.nodeName(e,"html")&&w.css(e,"position")==="static")e=e.offsetParent;return e||o.documentElement})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);w.fn[e]=function(i){return w.access(this,function(e,i,s){var o=or(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?w(o).scrollLeft():s,r?s:w(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),w.each({Height:"height",Width:"width"},function(e,n){w.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){w.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return w.access(this,function(n,r,i){var s;return w.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?w.css(n,r,u):w.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=w,typeof n=="function"&&n.amd&&n.amd.jQuery&&n("jquery",[],function(){return w})}(window),function(e,t){function Z(e){if(e&&typeof e=="object"&&e.__wrapped__)return e;if(!(this instanceof Z))return new Z(e);this.__wrapped__=e}function et(e){return e.charCodeAt(0)}function tt(e,t){var n=e.index,r=t.index;e=e.criteria,t=t.criteria;if(e!==t){if(e>t||typeof e=="undefined")return 1;if(e<t||typeof t=="undefined")return-1}return n<r?-1:1}function nt(e,t,n,r){function u(){var a=arguments,f=s?this:t;i||(e=t[o]),n.length&&(a=a.length?(a=ft(a),r?a.concat(n):n.concat(a)):n);if(this instanceof u){at.prototype=e.prototype,f=new at,at.prototype=null;var l=e.apply(f,a);return Dt(l)?l:f}return e.apply(f,a)}var i=_t(e),s=!n,o=t;return s&&(n=t),i||(t=e),u}function rt(e,t,n){if(e==null)return zn;var r=typeof e;if(r!="function"){if(r!="object")return function(t){return t[e]};var i=vt(e);return function(t){var n=i.length,r=!1;while(n--)if(!(r=t[i[n]]===e[i[n]]))break;return r}}return typeof t!="undefined"?n===1?function(n){return e.call(t,n)}:n===2?function(n,r){return e.call(t,n,r)}:n===4?function(n,r,i,s){return e.call(t,n,r,i,s)}:function(n,r,i){return e.call(t,n,r,i)}:e}function st(e){return"\\"+Y[e]}function ot(e){return yt[e]}function ut(e){return typeof e.toString!="function"&&typeof (e+"")=="string"}function at(){}function ft(e,t,n){t||(t=0),typeof n=="undefined"&&(n=e?e.length:0);var r=-1,i=n-t||0,s=Array(i<0?0:i);while(++r<i)s[r]=e[t+r];return s}function lt(e){return bt[e]}function ct(e){return L.call(e)==j}function mt(e){var t=!1;if(!e||typeof e!="object"||ct(e))return t;var n=e.constructor;return!_t(n)||n instanceof n?(ht(e,function(e,n){t=n}),t===!1||C.call(e,t)):t}function gt(e){var t=[];return pt(e,function(e,n){t.push(n)}),t}function wt(e){if(!e)return e;for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];if(r)for(var i in r)e[i]=r[i]}return e}function Et(e){return Dt(e)?dt(e)?ft(e):wt({},e):e}function St(e){if(!e)return e;for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];if(r)for(var i in r)e[i]==null&&(e[i]=r[i])}return e}function xt(e){var t=[];return ht(e,function(e,n){_t(e)&&t.push(n)}),t.sort()}function Tt(e,t){return e?C.call(e,t):!1}function Nt(e){var t=-1,n=vt(e),r=n.length,i={};while(++t<r){var s=n[t];i[e[s]]=s}return i}function Ct(e){return e===!0||e===!1||L.call(e)==I}function kt(e){return e instanceof Date||L.call(e)==q}function Lt(e){return e?e.nodeType===1:!1}function At(e){if(!e)return!0;if(dt(e)||Ft(e))return!e.length;for(var t in e)if(C.call(e,t))return!1;return!0}function Ot(e,t,n,r){if(e===t)return e!==0||1/e==1/t;var i=typeof e,s=typeof t;if(e===e&&(!e||i!="function"&&i!="object")&&(!t||s!="function"&&s!="object"))return!1;if(e==null||t==null)return e===t;var o=L.call(e),u=L.call(t);if(o!=u)return!1;switch(o){case I:case q:return+e==+t;case U:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case W:case X:return e==t+""}var a=o==F;if(!a){if(e.__wrapped__||t.__wrapped__)return Ot(e.__wrapped__||e,t.__wrapped__||t,n,r);if(o!=z)return!1;var l=e.constructor,c=t.constructor;if(l!=c&&!(_t(l)&&l instanceof l&&_t(c)&&c instanceof c))return!1}n||(n=[]),r||(r=[]);var h=n.length;while(h--)if(n[h]==e)return r[h]==t;var p=!0,d=0;n.push(e),r.push(t);if(a){d=t.length,p=d==e.length;if(p)while(d--)if(!(p=Ot(e[d],t[d],n,r)))break;return p}return ht(t,function(t,i,s){if(C.call(s,i))return d++,!(p=C.call(e,i)&&Ot(e[i],t,n,r))&&f}),p&&ht(e,function(e,t,n){if(C.call(n,t))return!(p=--d>-1)&&f}),p}function Mt(e){return M(e)&&!_(parseFloat(e))}function _t(e){return typeof e=="function"}function Dt(e){return e?G[typeof e]:!1}function Pt(e){return Bt(e)&&e!=+e}function Ht(e){return e===null}function Bt(e){return typeof e=="number"||L.call(e)==U}function jt(e){return e instanceof RegExp||L.call(e)==W}function Ft(e){return typeof e=="string"||L.call(e)==X}function It(e){return typeof e=="undefined"}function qt(e){var t=T.apply(o,arguments),n={};return ht(e,function(e,r){gn(t,r,1)<0&&(n[r]=e)}),n}function Rt(e){var t=-1,n=vt(e),r=n.length,i=Array(r);while(++t<r){var s=n[t];i[t]=[s,e[s]]}return i}function Ut(e){var t=0,n=T.apply(o,arguments),r=n.length,i={};while(++t<r){var s=n[t];s in e&&(i[s]=e[s])}return i}function zt(e){var t=-1,n=vt(e),r=n.length,i=Array(r);while(++t<r)i[t]=e[n[t]];return i}function Wt(e,t){var n=e?e.length:0,r=!1;return typeof n=="number"?r=gn(e,t)>-1:it(e,function(e){return(r=e===t)&&f}),r}function Xt(e,t,n){var r={};return t=rt(t,n),Qt(e,function(e,n,i){n=t(e,n,i)+"",C.call(r,n)?r[n]++:r[n]=1}),r}function Vt(e,t,n){var r=!0;t=rt(t,n);if(dt(e)){var i=-1,s=e.length;while(++i<s)if(!(r=!!t(e[i],i,e)))break}else it(e,function(e,n,i){return!(r=!!t(e,n,i))&&f});return r}function $t(e,t,n){var r=[];t=rt(t,n);if(dt(e)){var i=-1,s=e.length;while(++i<s){var o=e[i];t(o,i,e)&&r.push(o)}}else it(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Jt(e,t,n){var r;return t=rt(t,n),Qt(e,function(e,n,i){if(t(e,n,i))return r=e,f}),r}function Kt(e,t){return hn(e,t,!0)}function Qt(e,t,n){if(t&&typeof n=="undefined"&&dt(e)){var r=-1,i=e.length;while(++r<i)if(t(e[r],r,e)===f)break}else it(e,t,n)}function Gt(e,t,n){var r={};return t=rt(t,n),Qt(e,function(e,n,i){n=t(e,n,i)+"",(C.call(r,n)?r[n]:r[n]=[]).push(e)}),r}function Yt(e,t){var n=ft(arguments,2),r=-1,i=typeof t=="function",s=e?e.length:0,o=Array(typeof s=="number"?s:0);return Qt(e,function(e){o[++r]=(i?t:e[t]).apply(e,n)}),o}function Zt(e,t,n){var r=-1,i=e?e.length:0,s=Array(typeof i=="number"?i:0);t=rt(t,n);if(dt(e))while(++r<i)s[r]=t(e[r],r,e);else it(e,function(e,n,i){s[++r]=t(e,n,i)});return s}function en(e,t,n){var r=-Infinity,i=r;if(!t&&dt(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u>i&&(i=u)}}else t=rt(t,n),it(e,function(e,n,s){var o=t(e,n,s);o>r&&(r=o,i=e)});return i}function tn(e,t,n){var r=Infinity,i=r;if(!t&&dt(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u<i&&(i=u)}}else t=rt(t,n),it(e,function(e,n,s){var o=t(e,n,s);o<r&&(r=o,i=e)});return i}function rn(e,t,n,r){var i=arguments.length<3;t=rt(t,r,4);if(dt(e)){var s=-1,o=e.length;i&&(n=e[++s]);while(++s<o)n=t(n,e[s],s,e)}else it(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)});return n}function sn(e,t,n,r){var i=e,s=e?e.length:0,o=arguments.length<3;if(typeof s!="number"){var u=vt(e);s=u.length}return t=rt(t,r,4),Qt(e,function(e,r,a){r=u?u[--s]:--s,n=o?(o=!1,i[r]):t(n,i[r],r,a)}),n}function on(e,t,n){return t=rt(t,n),$t(e,function(e,n,r){return!t(e,n,r)})}function un(e){var t=-1,n=e?e.length:0,r=Array(typeof n=="number"?n:0);return Qt(e,function(e){var n=N(B()*(++t+1));r[t]=r[n],r[n]=e}),r}function an(e){var t=e?e.length:0;return typeof t=="number"?t:vt(e).length}function fn(e,t,n){var r;t=rt(t,n);if(dt(e)){var i=-1,s=e.length;while(++i<s)if(r=t(e[i],i,e))break}else it(e,function(e,n,i){return(r=t(e,n,i))&&f});return!!r}function ln(e,t,n){var r=-1,i=e?e.length:0,s=Array(typeof i=="number"?i:0);t=rt(t,n),Qt(e,function(e,n,i){s[++r]={criteria:t(e,n,i),index:r,value:e}}),i=s.length,s.sort(tt);while(i--)s[i]=s[i].value;return s}function cn(e){return e&&typeof e.length=="number"?ft(e):zt(e)}function hn(e,t,n){return n&&At(t)?null:(n?Jt:$t)(e,t)}function pn(e){var t=-1,n=e?e.length:0,r=[];while(++t<n){var i=e[t];i&&r.push(i)}return r}function dn(e){var t=-1,n=e.length,r=T.apply(o,arguments),i=[];while(++t<n){var s=e[t];gn(r,s,n)<0&&i.push(s)}return i}function vn(e,t,n){if(e){var r=0,i=e.length;if(typeof t!="number"&&t!=null){var s=-1;t=rt(t,n);while(++s<i&&t(e[s],s,e))r++}else{r=t;if(r==null||n)return e[0]}return ft(e,0,H(P(0,r),i))}}function mn(e,t){var n=-1,r=e?e.length:0,i=[];while(++n<r){var s=e[n];dt(s)?k.apply(i,t?s:mn(s)):i.push(s)}return i}function gn(e,t,n){var r=-1,i=e?e.length:0;if(typeof n=="number")r=(n<0?P(0,i+n):n||0)-1;else if(n)return r=Nn(e,t),e[r]===t?r:-1;while(++r<i)if(e[r]===t)return r;return-1}function yn(e,t,n){if(!e)return[];var r=0,i=e.length;if(typeof t!="number"&&t!=null){var s=i;t=rt(t,n);while(s--&&t(e[s],s,e))r++}else r=t==null||n?1:t||r;return ft(e,0,H(P(0,i-r),i))}function bn(e){var t=arguments,n=t.length,r=-1,i=e?e.length:0,s=[];e:while(++r<i){var o=e[r];if(gn(s,o)<0){var u=n;while(--u)if(gn(t[u],o)<0)continue e;s.push(o)}}return s}function wn(e,t,n){if(e){var r=0,i=e.length;if(typeof t!="number"&&t!=null){var s=i;t=rt(t,n);while(s--&&t(e[s],s,e))r++}else{r=t;if(r==null||n)return e[i-1]}return ft(e,P(0,i-r))}}function En(e,t,n){var r=e?e.length:0;typeof n=="number"&&(r=(n<0?P(0,r+n):H(n,r-1))+1);while(r--)if(e[r]===t)return r;return-1}function Sn(e,t){var n=-1,r=e?e.length:0,i={};while(++n<r){var s=e[n];t?i[s]=t[n]:i[s[0]]=s[1]}return i}function xn(e,t,n){e=+e||0,n=+n||1,t==null&&(t=e,e=0);var r=-1,i=P(0,x((t-e)/n)),s=Array(i);while(++r<i)s[r]=e,e+=n;return s}function Tn(e,t,n){if(typeof t!="number"&&t!=null){var r=0,i=-1,s=e?e.length:0;t=rt(t,n);while(++i<s&&t(e[i],i,e))r++}else r=t==null||n?1:P(0,t);return ft(e,r)}function Nn(e,t,n,r){var i=0,s=e?e.length:i;n=n?rt(n,r,1):zn,t=n(t);while(i<s){var o=i+s>>>1;n(e[o])<t?i=o+1:s=o}return i}function Cn(){return kn(T.apply(o,arguments))}function kn(e,t,n,r){var i=-1,s=e?e.length:0,o=[],u=o;typeof t=="function"&&(r=n,n=t,t=!1),n&&(u=[],n=rt(n,r));while(++i<s){var a=e[i],f=n?n(a,i,e):a;if(t?!i||u[u.length-1]!==f:gn(u,f)<0)n&&u.push(f),o.push(a)}return o}function Ln(e){var t=-1,n=e.length,r=[];while(++t<n){var i=e[t];gn(arguments,i,1)<0&&r.push(i)}return r}function An(e){var t=-1,n=e?en(nn(arguments,"length")):0,r=Array(n);while(++t<n)r[t]=nn(arguments,t);return r}function On(e,t){return e<1?t():function(){if(--e<1)return t.apply(this,arguments)}}function Mn(e,t){return J||A&&arguments.length>2?A.call.apply(A,arguments):nt(e,t,ft(arguments,2))}function _n(e){var t=T.apply(o,arguments),n=t.length>1?0:(t=xt(e),-1),r=t.length;while(++n<r){var i=t[n];e[i]=Mn(e[i],e)}return e}function Dn(){var e=arguments;return function(){var t=arguments,n=e.length;while(n--)t=[e[n].apply(this,t)];return t[0]}}function Pn(e,t,n){function u(){o=null,n||(i=e.apply(s,r))}var r,i,s,o;return function(){var a=n&&!o;return r=arguments,s=this,clearTimeout(o),o=setTimeout(u,t),a&&(i=e.apply(s,r)),i}}function Hn(e,n){var r=ft(arguments,2);return setTimeout(function(){e.apply(t,r)},n)}function Bn(e){var n=ft(arguments,1);return setTimeout(function(){e.apply(t,n)},1)}function jn(e,t){var n={};return function(){var r=(t?t.apply(this,arguments):arguments[0])+"";return C.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}}function Fn(e){var t,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function In(e){return nt(e,ft(arguments,1))}function qn(e,t){function u(){o=new Date,s=null,r=e.apply(i,n)}var n,r,i,s,o=0;return function(){var a=new Date,f=t-(a-o);return n=arguments,i=this,f<=0?(clearTimeout(s),s=null,o=a,r=e.apply(i,n)):s||(s=setTimeout(u,f)),r}}function Rn(e,t){return function(){var n=[e];return k.apply(n,arguments),t.apply(this,n)}}function Un(e){return e==null?"":(e+"").replace(w,ot)}function zn(e){return e}function Wn(e){Qt(xt(e),function(t){var n=Z[t]=e[t];Z.prototype[t]=function(){var e=[this.__wrapped__];k.apply(e,arguments);var t=n.apply(Z,e);return this.__chain__&&(t=new Z(t),t.__chain__=!0),t}})}function Xn(){return this}function Vn(e,t){return e==null&&t==null&&(t=1),e=+e||0,t==null&&(t=e,e=0),e+N(B()*((+t||0)-e+1))}function $n(e,t){var n=e?e[t]:null;return _t(n)?e[t]():n}function Jn(e,t,n){e||(e=""),n=St({},n,Z.templateSettings);var r=0,i="__p += '",s=n.variable,o=RegExp((n.escape||b).source+"|"+(n.interpolate||b).source+"|"+(n.evaluate||b).source+"|$","g");e.replace(o,function(t,n,s,o,u){return i+=e.slice(r,u).replace(E,st),n&&(i+="' +\n_.escape("+n+") +\n'"),o&&(i+="';\n"+o+";\n__p += '"),s&&(i+="' +\n((__t = ("+s+")) == null ? '' : __t) +\n'"),r=u+t.length,t}),i+="';\n",s||(s="obj",i="with ("+s+" || {}) {\n"+i+"\n}\n"),i="function("+s+") {\n"+"var __t, __p = '', __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n"+i+"return __p\n}";try{var u=Function("_","return "+i)(Z)}catch(a){throw a.source=i,a}return t?u(t):(u.source=i,u)}function Kn(e,t,n){e=+e||0;var r=-1,i=Array(e);while(++r<e)i[r]=t.call(n,r);return i}function Qn(e){return e==null?"":(e+"").replace(c,lt)}function Gn(e){var t=++a+"";return e?e+t:t}function Yn(e){return e=new Z(e),e.__chain__=!0,e}function Zn(e,t){return t(e),e}function er(){return this.__chain__=!0,this}function tr(){return this.__wrapped__+""}function nr(){return this.__wrapped__}var r=typeof exports=="object"&&exports,i=typeof module=="object"&&module&&module.exports==r&&module,s=typeof global=="object"&&global;s.global===s&&(e=s);var o=[],u={},a=0,f=u,l=e._,c=/&(?:amp|lt|gt|quot|#39);/g,h=/\b__p \+= '';/g,p=/\b(__p \+=) '' \+/g,d=/(__e\(.*?\)|\b__t\)) \+\n'';/g,v=/\w*$/,m=RegExp("^"+(u.valueOf+"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),g=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,y=/<%=([\s\S]+?)%>/g,b=/($^)/,w=/[&<>"']/g,E=/['\n\r\t\u2028\u2029\\]/g,S=0,x=Math.ceil,T=o.concat,N=Math.floor,C=u.hasOwnProperty,k=o.push,L=u.toString,A=m.test(A=ft.bind)&&A,O=m.test(O=Array.isArray)&&O,M=e.isFinite,_=e.isNaN,D=m.test(D=Object.keys)&&D,P=Math.max,H=Math.min,B=Math.random,j="[object Arguments]",F="[object Array]",I="[object Boolean]",q="[object Date]",R="[object Function]",U="[object Number]",z="[object Object]",W="[object RegExp]",X="[object String]",V=!!e.attachEvent,$=A&&!/\n|true/.test(A+V),J=A&&!$,K=(K={0:1,length:1},o.splice.call(K,0,1),K[0]),Q=arguments.constructor==Object,G={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1},Y={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};Z.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:y,variable:""};var it=function(e,t,n){var r,i=e,s=i;if(!i)return s;t=t&&typeof n=="undefined"?t:rt(t,n);var o=i.length;r=-1;if(typeof o=="number"){while(++r<o)if(t(i[r],r,e)===f)return s}else for(r in i)if(C.call(i,r)&&t(i[r],r,e)===f)return s};ct(arguments)||(ct=function(e){return e?C.call(e,"callee"):!1});var ht=function(e,t){var n,r=e,i=r;if(!r)return i;if(!G[typeof r])return i;t||(t=zn);for(n in r)if(t(r[n],n,e)===f)return i;return i},pt=function(e,t){var n,r=e,i=r;if(!r)return i;if(!G[typeof r])return i;t||(t=zn);for(n in r)if(C.call(r,n)&&t(r[n],n,e)===f)return i;return i},dt=O||function(e){return Q&&e instanceof Array||L.call(e)==F},vt=D?function(e){return Dt(e)?D(e):[]}:gt,yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bt=Nt(yt);_t(/x/)&&(_t=function(e){return e instanceof Function||L.call(e)==R});var nn=Zt;$&&i&&typeof setImmediate=="function"&&(Bn=Mn(setImmediate,e)),Z.after=On,Z.bind=Mn,Z.bindAll=_n,Z.compact=pn,Z.compose=Dn,Z.countBy=Xt,Z.debounce=Pn,Z.defaults=St,Z.defer=Bn,Z.delay=Hn,Z.difference=dn,Z.filter=$t,Z.flatten=mn,Z.forEach=Qt,Z.functions=xt,Z.groupBy=Gt,Z.initial=yn,Z.intersection=bn,Z.invert=Nt,Z.invoke=Yt,Z.keys=vt,Z.map=Zt,Z.max=en,Z.memoize=jn,Z.min=tn,Z.object=Sn,Z.omit=qt,Z.once=Fn,Z.pairs=Rt,Z.partial=In,Z.pick=Ut,Z.pluck=nn,Z.range=xn,Z.reject=on,Z.rest=Tn,Z.shuffle=un,Z.sortBy=ln,Z.tap=Zn,Z.throttle=qn,Z.times=Kn,Z.toArray=cn,Z.union=Cn,Z.uniq=kn,Z.values=zt,Z.where=hn,Z.without=Ln,Z.wrap=Rn,Z.zip=An,Z.collect=Zt,Z.drop=Tn,Z.each=Qt,Z.extend=wt,Z.methods=xt,Z.select=$t,Z.tail=Tn,Z.unique=kn,Z.clone=Et,Z.contains=Wt,Z.escape=Un,Z.every=Vt,Z.find=Jt,Z.findWhere=Kt,Z.has=Tt,Z.identity=zn,Z.indexOf=gn,Z.isArguments=ct,Z.isArray=dt,Z.isBoolean=Ct,Z.isDate=kt,Z.isElement=Lt,Z.isEmpty=At,Z.isEqual=Ot,Z.isFinite=Mt,Z.isFunction=_t,Z.isNaN=Pt,Z.isNull=Ht,Z.isNumber=Bt,Z.isObject=Dt,Z.isRegExp=jt,Z.isString=Ft,Z.isUndefined=It,Z.lastIndexOf=En,Z.mixin=Wn,Z.noConflict=Xn,Z.random=Vn,Z.reduce=rn,Z.reduceRight=sn,Z.result=$n,Z.size=an,Z.some=fn,Z.sortedIndex=Nn,Z.template=Jn,Z.unescape=Qn,Z.uniqueId=Gn,Z.all=Vt,Z.any=fn,Z.detect=Jt,Z.foldl=rn,Z.foldr=sn,Z.include=Wt,Z.inject=rn,Z.first=vn,Z.last=wn,Z.take=vn,Z.head=vn,Z.chain=Yn,Z.VERSION="1.0.1",Wn(Z),Z.prototype.chain=er,Z.prototype.value=nr,it(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];Z.prototype[e]=function(){var e=this.__wrapped__;return t.apply(e,arguments),K&&e.length===0&&delete e[0],this}}),it(["concat","join","slice"],function(e){var t=o[e];Z.prototype[e]=function(){var e=this.__wrapped__,n=t.apply(e,arguments);return this.__chain__&&(n=new Z(n),n.__chain__=!0),n}}),typeof n=="function"&&typeof n.amd=="object"&&n.amd&&n("underscore",[],function(){return Z})}(this),function(e,r){typeof exports!="undefined"?r(e,exports,t("underscore")):typeof n=="function"&&n.amd?n("backbone",["underscore","jquery","exports"],function(t,n,i){e.Backbone=r(e,i,t,n)}):e.Backbone=r(e,{},e._,e.jQuery||e.Zepto||e.ender)}(this,function(e,t,n,r){var i=e.Backbone,s=[],o=s.push,u=s.slice,a=s.splice;t.VERSION="0.9.10",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var f=/\s+/,l=function(e,t,n,r){if(!n)return!0;if(typeof n=="object")for(var i in n)e[t].apply(e,[i,n[i]].concat(r));else{if(!f.test(n))return!0;var s=n.split(f);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r))}},c=function(e,t){var n,r=-1,i=e.length;switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,t[0]);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,t[0],t[1]);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,t[0],t[1],t[2]);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t)}},h=t.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!l(this,"once",e,[t,r])||!t)return this;var i=this,s=n.once(function(){i.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,r),this},off:function(e,t,r){var i,s,o,u,a,f,c,h;if(!this._events||!l(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events={},this;u=e?[e]:n.keys(this._events);for(a=0,f=u.length;a<f;a++){e=u[a];if(i=this._events[e]){o=[];if(t||r)for(c=0,h=i.length;c<h;c++)s=i[c],(t&&t!==s.callback&&t!==s.callback._callback||r&&r!==s.context)&&o.push(s);this._events[e]=o}}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&c(n,t),r&&c(r,arguments),this},listenTo:function(e,t,r){var i=this._listeners||(this._listeners={}),s=e._listenerId||(e._listenerId=n.uniqueId("l"));return i[s]=e,e.on(t,typeof t=="object"?this:r,this),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return;if(e)e.off(t,typeof t=="object"?this:n,this),!t&&!n&&delete r[e._listenerId];else{typeof t=="object"&&(n=this);for(var i in r)r[i].off(t,n,this);this._listeners={}}return this}};h.bind=h.on,h.unbind=h.off,n.extend(t,h);var p=t.Model=function(e,t){var r,i=e||{};this.cid=n.uniqueId("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(i=this.parse(i,t)||{});if(r=n.result(this,"defaults"))i=n.defaults({},i,r);this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(p.prototype,h,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,r){var i,s,o,u,a,f,l,c;if(e==null)return this;typeof e=="object"?(s=e,r=t):(s={})[e]=t,r||(r={});if(!this._validate(s,r))return!1;o=r.unset,a=r.silent,u=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=n.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)t=s[i],n.isEqual(c[i],t)||u.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete c[i]:c[i]=t;if(!a){u.length&&(this._pending=!0);for(var h=0,p=u.length;h<p;h++)this.trigger("change:"+u[h],this,c[u[h]],r)}if(f)return this;if(!a)while(this._pending)this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e){if(n.isEqual(i[s],t=e[s]))continue;(r||(r={}))[s]=t}return r},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success;return e.success=function(e,n,r){if(!e.set(e.parse(n,r),r))return!1;t&&t(e,n,r)},this.sync("read",this,e)},save:function(e,t,r){var i,s,o,u,a=this.attributes;return e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,i&&(!r||!r.wait)&&!this.set(i,r)?!1:(r=n.extend({validate:!0},r),this._validate(i,r)?(i&&r.wait&&(this.attributes=n.extend({},a,i)),r.parse===void 0&&(r.parse=!0),s=r.success,r.success=function(e,t,r){e.attributes=a;var o=e.parse(t,r);r.wait&&(o=n.extend(i||{},o));if(n.isObject(o)&&!e.set(o,r))return!1;s&&s(e,t,r)},o=this.isNew()?"create":r.patch?"patch":"update",o==="patch"&&(r.attrs=i),u=this.sync(o,this,r),i&&r.wait&&(this.attributes=a),u):!1)},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(e,t,n){(n.wait||e.isNew())&&i(),r&&r(e,t,n)};if(this.isNew())return e.success(this,null,e),!1;var s=this.sync("delete",this,e);return e.wait||i(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||_();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return!this.validate||!this.validate(this.attributes,e)},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,t||{}),!1):!0}});var d=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this.models=[],this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))};n.extend(d.prototype,h,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){e=n.isArray(e)?e.slice():[e],t||(t={});var r,i,s,u,f,l,c,h,p,d;c=[],h=t.at,p=this.comparator&&h==null&&t.sort!=0,d=n.isString(this.comparator)?this.comparator:null;for(r=0,i=e.length;r<i;r++){if(!(s=this._prepareModel(u=e[r],t))){this.trigger("invalid",this,u,t);continue}if(f=this.get(s)){t.merge&&(f.set(u===s?s.attributes:u,t),p&&!l&&f.hasChanged(d)&&(l=!0));continue}c.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,s.id!=null&&(this._byId[s.id]=s)}c.length&&(p&&(l=!0),this.length+=c.length,h!=null?a.apply(this.models,[h,0].concat(c)):o.apply(this.models,c)),l&&this.sort({silent:!0});if(t.silent)return this;for(r=0,i=c.length;r<i;r++)(s=c[r]).trigger("add",s,this,t);return l&&this.trigger("sort",this,t),this},remove:function(e,t){e=n.isArray(e)?e.slice():[e],t||(t={});var r,i,s,o;for(r=0,i=e.length;r<i;r++){o=this.get(e[r]);if(!o)continue;delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,t.silent||(t.index=s,o.trigger("remove",o,this,t)),this._removeReference(o)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,n.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,n.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return e==null?void 0:(this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[e.id||e.cid||e[this._idAttr]||e])},at:function(e){return this.models[e]},where:function(e){return n.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},update:function(e,t){t=n.extend({add:!0,merge:!0,remove:!0},t),t.parse&&(e=this.parse(e,t));var r,i,s,o,u=[],a=[],f={};n.isArray(e)||(e=e?[e]:[]);if(t.add&&!t.remove)return this.add(e,t);for(i=0,s=e.length;i<s;i++)r=e[i],o=this.get(r),t.remove&&o&&(f[o.cid]=!0),(t.add&&!o||t.merge&&o)&&u.push(r);if(t.remove)for(i=0,s=this.models.length;i<s;i++)r=this.models[i],f[r.cid]||a.push(r);return a.length&&this.remove(a,t),u.length&&this.add(u,t),this},reset:function(e,t){t||(t={}),t.parse&&(e=this.parse(e,t));for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r]);return t.previousModels=this.models.slice(),this._reset(),e&&this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success;return e.success=function(e,n,r){var i=r.update?"update":"reset";e[i](n,r),t&&t(e,n,r)},this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,t,n){n.wait&&r.add(e,n),i&&i(e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models.length=0,this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:!1},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)},sortedIndex:function(e,t,r){t||(t=this.comparator);var i=n.isFunction(t)?t:function(e){return e.get(t)};return n.sortedIndex(this.models,e,i,r)}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];n.each(v,function(e){d.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var m=["groupBy","countBy","sortBy"];n.each(m,function(e){d.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var g=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},y=/\((.*?)\)/g,b=/(\(\?)?:\w+/g,w=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(g.prototype,h,{initialize:function(){},route:function(e,r,i){return n.isRegExp(e)||(e=this._routeToRegExp(e)),i||(i=this[r]),t.history.route(e,n.bind(function(n){var s=this._extractParameters(e,n);i&&i.apply(this,s),this.trigger.apply(this,["route:"+r].concat(s)),this.trigger("route",r,s),t.history.trigger("route",this,r,s)},this)),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(E,"\\$&").replace(y,"(?:$1)?").replace(b,function(e,t){return t?e:"([^/]+)"}).replace(w,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var S=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},x=/^[#\/]|\s+$/g,T=/^\/+|\/+$/g,N=/msie [\w.]+/,C=/\/$/;S.started=!1,n.extend(S.prototype,h,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(C,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(x,"")},start:function(e){if(S.started)throw new Error("Backbone.history has already been started");S.started=!0,this.options=n.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,s=N.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(T,"/"),s&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(r)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var o=this.location,u=o.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!u)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&u&&o.hash&&(this.fragment=this.getHash().replace(x,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search));if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),S.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),r=n.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return r},navigate:function(e,t){if(!S.started)return!1;if(!t||t===!0)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new S;var k=t.View=function(e){this.cid=n.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},L=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];n.extend(k.prototype,h,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[e[t]]);if(!r)throw new Error('Method "'+e[t]+'" does not exist');var i=t.match(L),s=i[1],o=i[2];r=n.bind(r,this),s+=".delegateEvents"+this.cid,o===""?this.$el.on(s,r):this.$el.on(s,o,r)}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=n.extend({},n.result(this,"options"),e)),n.extend(this,n.pick(e,A)),this.options=e},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}else this.setElement(n.result(this,"el"),!1)}});var O={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.sync=function(e,r,i){var s=O[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||_()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1);var a=i.success;i.success=function(e){a&&a(r,e,i),r.trigger("sync",r,e,i)};var f=i.error;i.error=function(e){f&&f(r,e,i),r.trigger("error",r,e,i)};var l=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,l,i),l},t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var M=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};p.extend=d.extend=g.extend=k.extend=S.extend=M;var _=function(){throw new Error('A "url" property or function must be specified')};return t}),n("BaseView",["jquery","underscore","backbone"],function(e,t,n){var r=function(e){this.bindings=[],this.views=[],this.intervals=[],n.View.apply(this,[e])};return t.extend(r.prototype,n.View.prototype,{createView:function(e,t){var n=new e(t);return this.views.push(n),n},createInterval:function(e,t){var n=setInterval(t,e);return this.intervals.push(n),n},bindTo:function(e,t,n,r){return this.bindings.push({item:e,ev:t,callback:n,context:r}),e.on(t,n,r)},unbindAll:function(){var e,t;for(e=this.bindings.length;e>0;e-=1)t=this.bindings.pop(),t.item.off(t.ev,t.callback,t.context);this.off()},clearIntervals:function(){var e,t;for(e=this.intervals.length;e>0;e-=1)t=this.intervals.pop(),clearInterval(t)},trash:function(){return this.unbindAll(),this.clearIntervals(),this.remove(),null},dispose:function(){var e,t;for(e=this.views.length;e>0;e-=1)t=this.views.pop(),t.dispose();return this.trash()}}),r.extend=n.View.extend,r}),n("models/Comment",["underscore","backbone"],function(e,t){var n=t.Model.extend({initialize:function(){this.on("error",function(){ticketer.EventEmitter.trigger("error","Error saving comment")})},validate:function(e){if(typeof e.comment!="undefined"&&!e.comment.replace(/ /g,"").length)return"Comment must have content to post."}});return n}),n("collections/Comments",["underscore","backbone","models/Comment"],function(e,t,n){var r=t.Collection.extend({model:n,initialize:function(e,t){this.options=t||{},this.url="/api/tickets/"+t.ticketId+"/comments",this.comparator=function(e){var t=new Date(e.get("created_at"));return t.getTime()},ticketer.EventEmitter.on("comment:new",this.addComment,this),ticketer.EventEmitter.on("comment:update",this.updateComment,this),ticketer.EventEmitter.on("comment:remove",this.removeComment,this)},fetch:function(e){t.Collection.prototype.fetch.call(this,{success:e})},destroy:function(){return this.reset(),ticketer.EventEmitter.off(null,null,this),null},addComment:function(t){var n=e.clone(t),r=this.get(n.id);if(r)return!1;n.ticket===this.options.ticketId&&(delete n.ticket,this.add(n))},updateComment:function(t){var n=e.clone(t),r=this.get(n.id);r&&r.set(r.parse(n))},removeComment:function(e){var t=this.get(e.comment);t&&this.remove(t)}});return r}),n("models/Ticket",["underscore","backbone","collections/Comments"],function(e,t,n){var r=t.Model.extend({defaults:{status:"Open"},urlRoot:"/api/tickets",initialize:function(){var e=this,t=ticketer.currentUser;this.on("error",function(){ticketer.EventEmitter.trigger("error","Error saving ticket")}),this.on("change:status",function(e,t){t==="closed"&&typeof e.collection!="undefined"&&e.collection.remove(e.id)})},isOpen:function(){return this.get("status")==="open"},notification:function(){return this.get("notification")&&this.get("notification")===!0},removeNotification:function(){this.unset("notification"),ticketer.EventEmitter.trigger("notification:remove",this.id)},validate:function(e){if(typeof e.title!="undefined"&&!e.title.replace(/ /g,"").length)return"You must enter a ticket title.";if(typeof e.description!="undefined"&&!e.description.replace(/ /g,"").length)return"You must enter a ticket description."},updateTicket:function(e,t){e.title&&this.set({title:e.title}),e.description&&this.set({description:e.description}),e.status&&this.set({status:e.status}),this.save(null,{error:t})},close:function(e){this.save({status:"closed"},{error:e})},participate:function(t,n){var r=e.clone(this.get("participants"));r.push(t),this.set({participants:e.uniq(r)}),this.save(null,{error:n})},stopParticipating:function(t,n){var r=e.clone(this.get("participants")),i=e.reject(r,function(e){return e===t});this.set({participants:e.uniq(i)}),this.save(null,{error:n})},follow:function(){var n=this,r=e.clone(this);r.url="/api/tickets/"+r.get("id")+"/follow",t.sync("create",r)},unfollow:function(){var n=this,r=e.clone(this);r.url="/api/tickets/"+r.get("id")+"/follow",t.sync("delete",r)},assignUser:function(e){this.save({assigned_to:[e]})},responseTime:function(){if(this.get("closed_at")){var e,t,n,r,i=new Date(this.get("closed_at")),s=new Date(this.get("opened_at")),o=i.getTime()-s.getTime();return e=Math.floor(o/1e3/60/60/24),o-=e*1e3*60*60*24,t=Math.floor(o/1e3/60/60),o-=t*1e3*60*60,n=Math.floor(o/1e3/60),e.toString()+" days, "+t.toString()+" hours, "+n.toString()+" minutes"}return!1}});return r}),n("collections/Tickets",["underscore","backbone","models/Ticket"],function(e,t,n){var r=t.Collection.extend({model:n,initialize:function(e,t){t=t||{},this.url=t.url||"/api/tickets",this.comparator=t.comparator||function(e){var t=new Date(e.get("opened_at"));return-t.getTime()},ticketer.EventEmitter.on("comment:new comment:update",this.addNotification,this),ticketer.EventEmitter.on("ticket:update",this.updateTicket,this),ticketer.EventEmitter.on("ticket:remove",this.removeTicket,this)},destroy:function(){return this.reset(),ticketer.EventEmitter.off(null,null,this),null},addNotification:function(t){var n=e.clone(t),r=this.get(n.ticket);r&&n.notification&&r.set({notification:n.notification})},updateTicket:function(t){var n=e.clone(t),r=this.get(n.id);r&&r.set(r.parse(n))},removeTicket:function(e){this.remove(e)}});return r}),n("views/helpers/FillerView",["jquery","underscore","BaseView"],function(e,t,n){var r=n.extend({className:"view-filler",render:function(){return this.$el.html("<p>Select an item to view it's details.</p>"),this}});return r}),!function(e,t,r){function u(e,n){var r=t.createElement(e||"div"),i;for(i in n)r[i]=n[i];return r}function a(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function l(e,t,n,r){var i=["opacity",t,~~(e*100),n,r].join("-"),u=.01+n/r*100,a=Math.max(1-(1-e)/t*(100-u),e),l=o.substring(0,o.indexOf("Animation")).toLowerCase(),c=l&&"-"+l+"-"||"";return s[i]||(f.insertRule("@"+c+"keyframes "+i+"{"+"0%{opacity:"+a+"}"+u+"%{opacity:"+e+"}"+(u+.01)+"%{opacity:1}"+(u+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+a+"}"+"}",f.cssRules.length),s[i]=1),i}function c(e,t){var n=e.style,s,o;if(n[t]!==r)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(o=0;o<i.length;o++){s=i[o]+t;if(n[s]!==r)return s}}function h(e,t){for(var n in t)e.style[c(e,n)||n]=t[n];return e}function p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]===r&&(e[i]=n[i])}return e}function d(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function m(e){if(!this.spin)return new m(e);this.opts=p(e||{},m.defaults,v)}var i=["webkit","Moz","ms","O"],s={},o,f=function(){var e=u("style",{type:"text/css"});return a(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),v={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};m.defaults={},p(m.prototype,{spin:function(e){this.stop();var t=this,n=t.opts,r=t.el=h(u(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex}),i=n.radius+n.length+n.width,s,a;e&&(e.insertBefore(r,e.firstChild||null),a=d(e),s=d(r),h(r,{left:(n.left=="auto"?a.x-s.x+(e.offsetWidth>>1):parseInt(n.left,10)+i)+"px",top:(n.top=="auto"?a.y-s.y+(e.offsetHeight>>1):parseInt(n.top,10)+i)+"px"})),r.setAttribute("aria-role","progressbar"),t.lines(r,t.opts);if(!o){var f=0,l=n.fps,c=l/n.speed,p=(1-n.opacity)/(c*n.trail/100),v=c/n.lines;(function m(){f++;for(var e=n.lines;e;e--){var i=Math.max(1-(f+e*v)%c*p,n.opacity);t.opacity(r,n.lines-e,i,n)}t.timeout=t.el&&setTimeout(m,~~(1e3/l))})()}return t},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=r),this},lines:function(e,t){function i(e,r){return h(u(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:r,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*n+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.corners*t.width>>1)+"px"})}var n=0,r;for(;n<t.lines;n++)r=h(u(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:o&&l(t.opacity,t.trail,n,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&a(r,h(i("#000","0 0 4px #000"),{top:"2px"})),a(e,a(r,i(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),function(){function e(e,t){return u("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=h(u("group"),{behavior:"url(#default#VML)"});!c(t,"transform")&&t.adj?(f.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(t,n){function s(){return h(e("group",{coordsize:i+" "+i,coordorigin:-r+" "+ -r}),{width:i,height:i})}function l(t,i,o){a(u,a(h(s(),{rotation:360/n.lines*t+"deg",left:~~i}),a(h(e("roundrect",{arcsize:n.corners}),{width:r,height:n.width,left:n.radius,top:-n.width>>1,filter:o}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var r=n.length+n.width,i=2*r,o=-(n.width+n.length)*2+"px",u=h(s(),{position:"absolute",top:o,left:o}),f;if(n.shadow)for(f=1;f<=n.lines;f++)l(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=n.lines;f++)l(f);return a(t,u)},m.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}):o=c(t,"animation")}(),typeof n=="function"&&n.amd?n("spin",[],function(){return m}):e.Spinner=m}(window,document),n("views/helpers/SpinnerView",["jquery","underscore","BaseView","spin"],function(e,t,n,r){var i=n.extend({className:"spin-wrap",initialize:function(){this.opts={lines:11,length:7,width:4,radius:10,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"}},render:function(){var e=(new r(this.opts)).spin();return this.$el.html(e.el),this.$el.append("<p>Loading</p>"),this}});return i});var r=function(){var e={},t=function(){};return t.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(e,t,n,r){r||(this.context=t,this.buffer=[]);if(!this.includes("",e)){if(r)return e;this.send(e);return}e=this.render_pragmas(e);var i=this.render_section(e,t,n);i===!1&&(i=this.render_tags(e,t,n,r));if(r)return i;this.sendLines(i)},send:function(e){e!==""&&this.buffer.push(e)},sendLines:function(e){if(e){var t=e.split("\n");for(var n=0;n<t.length;n++)this.send(t[n])}},render_pragmas:function(e){if(!this.includes("%",e))return e;var t=this,n=this.getCachedRegex("render_pragmas",function(e,t){return new RegExp(e+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+t,"g")});return e.replace(n,function(e,n,r){if(!t.pragmas_implemented[n])throw{message:"This implementation of mustache doesn't understand the '"+n+"' pragma"};t.pragmas[n]={};if(r){var i=r.split("=");t.pragmas[n][i[0]]=i[1]}return""})},render_partial:function(e,t,n){e=this.trim(e);if(!n||n[e]===undefined)throw{message:"unknown_partial '"+e+"'"};return typeof t[e]!="object"?this.render(n[e],t,n,!0):this.render(n[e],t[e],n,!0)},render_section:function(e,t,n){if(!this.includes("#",e)&&!this.includes("^",e))return!1;var r=this,i=this.getCachedRegex("render_section",function(e,t){return new RegExp("^([\\s\\S]*?)"+e+"(\\^|\\#)\\s*(.+)\\s*"+t+"\n*([\\s\\S]*?)"+e+"\\/\\s*\\3\\s*"+t+"\\s*([\\s\\S]*)$","g")});return e.replace(i,function(e,i,s,o,u,a){var f=i?r.render_tags(i,t,n,!0):"",l=a?r.render(a,t,n,!0):"",c,h=r.find(o,t);return s==="^"?!h||r.is_array(h)&&h.length===0?c=r.render(u,t,n,!0):c="":s==="#"&&(r.is_array(h)?c=r.map(h,function(e){return r.render(u,r.create_context(e),n,!0)}).join(""):r.is_object(h)?c=r.render(u,r.create_context(h),n,!0):typeof h=="function"?c=h.call(t,u,function(e){return r.render(e,t,n,!0)}):h?c=r.render(u,t,n,!0):c=""),f+c+l})},render_tags:function(e,t,n,r){var i=this,s=function(){return i.getCachedRegex("render_tags",function(e,t){return new RegExp(e+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+t+"+","g")})},o=s(),u=function(e,r,u){switch(r){case"!":return"";case"=":return i.set_delimiters(u),o=s(),"";case">":return i.render_partial(u,t,n);case"{":return i.find(u,t);default:return i.escape(i.find(u,t))}},a=e.split("\n");for(var f=0;f<a.length;f++)a[f]=a[f].replace(o,u,this),r||this.send(a[f]);if(r)return a.join("\n")},set_delimiters:function(e){var t=e.split(" ");this.otag=this.escape_regex(t[0]),this.ctag=this.escape_regex(t[1])},escape_regex:function(e){if(!arguments.callee.sRE){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+t.join("|\\")+")","g")}return e.replace(arguments.callee.sRE,"\\$1")},find:function(e,t){function n(e){return e===!1||e===0||e}e=this.trim(e);var r;if(e.match(/([a-z_]+)\./ig)){var i=this.walk_context(e,t);n(i)&&(r=i)}else n(t[e])?r=t[e]:n(this.context[e])&&(r=this.context[e]);return typeof r=="function"?r.apply(t):r!==undefined?r:""},walk_context:function(e,t){var n=e.split("."),r=t[n[0]]!=undefined?t:this.context,i=r[n.shift()];while(i!=undefined&&n.length>0)r=i,i=i[n.shift()];return typeof i=="function"?i.apply(r):i},includes:function(e,t){return t.indexOf(this.otag+e)!=-1},escape:function(e){return e=String(e===null?"":e),e.replace(/&(?!\w+;)|["'<>\\]/g,function(e){switch(e){case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return e}})},create_context:function(e){if(this.is_object(e))return e;var t=".";this.pragmas["IMPLICIT-ITERATOR"]&&(t=this.pragmas["IMPLICIT-ITERATOR"].iterator);var n={};return n[t]=e,n},is_object:function(e){return e&&typeof e=="object"},is_array:function(e){return Object.prototype.toString.call(e)==="[object Array]"},trim:function(e){return e.replace(/^\s*|\s*$/g,"")},map:function(e,t){if(typeof e.map=="function")return e.map(t);var n=[],r=e.length;for(var i=0;i<r;i++)n.push(t(e[i]));return n},getCachedRegex:function(t,n){var r=e[this.otag];r||(r=e[this.otag]={});var i=r[this.ctag];i||(i=r[this.ctag]={});var s=i[t];return s||(s=i[t]=n(this.otag,this.ctag)),s}},{name:"mustache.js",version:"0.4.0-dev",to_html:function(e,n,r,i){var s=new t;i&&(s.send=i),s.render(e,n||{},r);if(!i)return s.buffer.join("\n")}}}();n("mustache",function(){}),n("collections/PollingCollection",["underscore","backbone"],function(e,t){var n=t.Collection.extend({initialize:function(e,t){t=t||{},this.interval=t.interval||3e5,this.url=t.url||"/api/notifications",this.poll()},poll:function(){this.fetch(),setTimeout(this.poll.bind(this),this.interval)},fetch:function(e){t.Collection.prototype.fetch.call(this,{update:!0,success:e})}});return n}),n("text",["module"],function(e){var n,r,i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,o=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u=typeof location!="undefined"&&location.href,a=u&&location.protocol&&location.protocol.replace(/\:/,""),f=u&&location.hostname,l=u&&(location.port||undefined),c=[],h=e.config&&e.config()||{};n={version:"2.0.5",strip:function(e){if(e){e=e.replace(s,"");var t=e.match(o);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:h.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=i[t];try{e=new ActiveXObject(n)}catch(r){}if(e){i=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,i){var s,o,u,a=n.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===t)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,t,r,i){r=t?n.strip(r):r,h.isBuild&&(c[e]=r),i(r)},load:function(e,t,r,i){if(i.isBuild&&!i.inlineText){r();return}h.isBuild=i.isBuild;var s=n.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),c=t.toUrl(o),p=h.useXhr||n.useXhr;!u||p(c,a,f,l)?n.get(c,function(t){n.finishLoad(e,s.strip,t,r)},function(e){r.error&&r.error(e)}):t([o],function(e){n.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,t,r,i){if(c.hasOwnProperty(t)){var s=n.jsEscape(c[t]);r.asModule(e+"!"+t,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,t,r,i,s){var o=n.parseName(t),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";n.load(a,r,function(t){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},n.write(e,a,r,s)},s)}};if(h.env==="node"||!h.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node)r=t.nodeRequire("fs"),n.get=function(e,t){var n=r.readFileSync(e,"utf8");n.indexOf("﻿")===0&&(n=n.substring(1)),t(n)};else if(h.env==="xhr"||!h.env&&n.createXhr())n.get=function(e,t,r,i){var s=n.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);h.onXhr&&h.onXhr(s,e),s.onreadystatechange=function(n){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):t(s.responseText))},s.send(null)};else if(h.env==="rhino"||!h.env&&typeof Packages!="undefined"&&typeof java!="undefined")n.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};return n}),n("text!templates/widgets/TagListWidget.html",[],function(){return'<h4 class="title">Tags</h4>\n<ul class="group tags"></ul>'}),n("text!templates/widgets/Tag.html",[],function(){return'<li data-id="{{id}}" title="{{name}}" class="tag color-{{color}}">\n  <i class="icon-bookmark"></i><span data-action="edit">{{name}}</span>\n</li>'}),n("text!templates/widgets/TagEdit.html",[],function(){return'<li data-id="{{id}}" title="{{name}}" class="editable color-{{color}}">\n  <i class="icon-bookmark"></i><input type="text" value="{{name}}"><span data-action="delete" class="close">&times;</span>\n</li>'}),n("views/widgets/TagListWidgetView",["jquery","underscore","backbone","BaseView","text!templates/widgets/TagListWidget.html","text!templates/widgets/Tag.html","text!templates/widgets/TagEdit.html"],function(e,t,n,i,s,o,u){var a=i.extend({className:"option-set tag-list-widget",events:{"click .tag[data-id]":"filterListView","dblclick [data-action='edit']":"editTag","mousedown [data-action='delete']":"deleteTag","blur .editable input":"saveTag"},initialize:function(){this.bindTo(this.collection,"add remove reset",this.renderTags,this)},render:function(){return this.$el.html(r.to_html(s)),this.renderTags(),this},renderTags:function(){var e=this,t=[];this.collection.length?this.collection.each(function(n){t.push(e.renderTag(n))}):t.push('<li class="empty">You have no tags</li>'),this.$el.find(".group").html(t.join(""))},renderTag:function(e){var t=e.toJSON();return t.color=ticketer.colors[t.color].name,r.to_html(o,t)},filterListView:function(t){var n=e(t.currentTarget),r=this.collection.get(n.data("id")),i=r.get("tickets");n.hasClass("active")?(n.removeClass("active"),ticketer.EventEmitter.trigger("list:filter")):(n.siblings().removeClass("active"),n.addClass("active"),ticketer.EventEmitter.trigger("list:filter",function(e){return~i.indexOf(e.id)}))},editTag:function(t){var n=e(t.currentTarget).parent(),i=this.collection.get(n.data("id")).toJSON();i.color=ticketer.colors[i.color].name,n.replaceWith(r.to_html(u,i)),this.$el.find("input").focus()},saveTag:function(e){var t,n=this,r=this.$el.find(".editable"),i=r.find("input").val(),s=this.collection.get(r.data("id"));s&&(s.save({name:i}),r.replaceWith(n.renderTag(s)))},deleteTag:function(t){var n=e(t.currentTarget).parent(),r=this.collection.get(n.data("id"));r?r.destroy():console.error("Attempted to get tag: #"+id+", but failed."),t.stopPropagation(),t.stopImmediatePropagation()}});return a}),n("text!templates/toolbars/Toolbar.html",[],function(){return'<div class="option-set">\n  <h4 class="title">Tickets</h4>\n  <ul class="group">\n    <li><a href="#" data-route="tickets/mine"><i class="icon-home"></i> My Tickets<span data-role="my-count" class="count"></span></a></li>\n    <li><a href="#" data-route="tickets/open"><i class="icon-inbox"></i> Open Tickets<span data-role="open-count" class="count"></span></a></li>\n    <li><a href="#" data-route="tickets/closed"><i class="icon-ban-circle"></i> Closed Tickets</a></li>\n  </ul>\n</div>'}),n("views/toolbars/MainToolbarView",["jquery","underscore","backbone","BaseView","mustache","collections/PollingCollection","views/widgets/TagListWidgetView","text!templates/toolbars/Toolbar.html"],function(e,t,n,i,s,o,u,a){var f=i.extend({className:"sidebar",events:{"click a[data-route]":"navigateTo"},initialize:function(){var e=["ticket:new","ticket:update","ticket:remove","comment:new","collection:reset"].join(" ");this.unread=new o(null,{url:"/api/unread"}),this.notifications=new o(null,{url:"/api/notifications"}),this.bindTo(ticketer.EventEmitter,e,this.fetch,this),this.bindTo(this.unread,"sync",this.renderCounts,this),this.bindTo(this.notifications,"sync",this.renderCounts,this),this.bindTo(ticketer.EventEmitter,"notification:remove",this.destroyNotification,this)},fetch:function(){this.unread.fetch(),this.notifications.fetch()},destroyNotification:function(e){var t=this.notifications.get(e);t&&t.destroy({success:this.renderCounts.bind(this)})},render:function(){return this.$el.html(r.to_html(a)),this.renderCounts(),this.renderTagWidget(),this},renderCounts:function(){var e=this.unread.length,t=this.notifications.length;t===0?this.$('[data-role="my-count"]').hide():this.$('[data-role="my-count"]').text(t).show(),e===0?this.$('[data-role="open-count"]').hide():this.$('[data-role="open-count"]').text(e).show()},renderTagWidget:function(){var e=this.createView(u,{collection:ticketer.collections.lists});this.$el.append(e.render().el)},navigateTo:function(t){t.preventDefault();var n=e(t.target);n.parent().hasClass(".active")||ticketer.routers.ticketer.navigate(n.data("route"),!0)},selectTab:function(e){return this.$el.find(".group > .active").removeClass("active"),e&&this.$el.find('a[data-route="'+e+'"]').parent().addClass("active"),this}});return f}),n("text!templates/widgets/UserWidget.html",[],function(){return'<a class="add" data-action="display" title="{{title}}" href="#"><i class="icon-plus"></i></a>\n<input data-action="assign" type="text" placeholder="Find a user">\n<ul data-role="results-list" class="results-list"></ul>'}),n("text!templates/widgets/User.html",[],function(){return'<li data-id="{{id}}" title="{{name}}" class="user">\n  <img alt="{{name}}" src="{{avatar}}"> {{name}}\n</li>'}),n("views/widgets/UserWidgetView",["jquery","underscore","backbone","BaseView","mustache","text!templates/widgets/UserWidget.html","text!templates/widgets/User.html"],function(e,t,n,i,s,o,u){var a=i.extend({tagName:"li",className:"widget user-widget",attributes:{"data-role":"assign-user"},events:{"click [data-action='display']":"bindEvents","blur [data-action='assign']":"unbindEvents","click [data-role='results-list'] li":"participate"},render:function(){var e={};return e.title=ticketer.currentUser.role==="admin"?"Add a Follower":"Follow",this.$el.html(r.to_html(o,e)),this},renderUser:function(e){return r.to_html(u,e)},renderFilteredResults:function(t){var n,r=e(t.currentTarget).val(),i=this.$el.find('[data-role="results-list"]'),s=i.children(".active");t.keyCode===13&&s.length?this.model.participate(s.data("id")):t.keyCode===40&&s.length?(n=(s.index()+1)%i.children().length,s.removeClass("active"),e(i.children().get(n)).addClass("active")):r.replace(/\s+/g,"").length?(i.html(this.filterUsers(r.toLowerCase())).fadeIn(400),i.children(":first").addClass("active")):i.empty()},filterUsers:function(e){var t=this,n=[];return this.collection.each(function(r){var i=r.get("name").toLowerCase();~i.indexOf(e)&&!~t.model.get("participants").indexOf(r.id)&&n.push(t.renderUser(r.toJSON()))}),n.slice(0,4).join("")},bindEvents:function(e){ticketer.currentUser.role==="admin"?(this.$el.find("input").on("keyup",this.renderFilteredResults.bind(this)),this.$el.find("a").hide(),this.$el.find("input").fadeIn(200).focus()):this.follow(),e.preventDefault()},unbindEvents:function(e){var t=this;this.$el.find("input").off("keyup"),this.$el.find(".results-list, input").fadeOut(200,function(){t.$el.find("input").val(""),t.$el.find("a").show(200)})},participate:function(t){var n=e(t.currentTarget).data("id");t.preventDefault(),t.stopPropagation(),this.model.participate(n)},follow:function(){this.model.follow()}});return a}),n("text!templates/tickets/AssignedUser.html",[],function(){return'<li class="user" data-id="{{id}}"><img title="{{name}}" alt="{{fullname}}" src="{{avatar}}"></li>'}),n("views/tickets/TicketAssignView",["jquery","underscore","mustache","BaseView","views/widgets/UserWidgetView","text!templates/tickets/AssignedUser.html"],function(e,t,n,i,s,o){var u=i.extend({tagName:"ul",className:"involved-users",events:{"click li.removable":"unFollow"},initialize:function(){this.bindTo(this.model,"change:participants",this.render,this)},render:function(){var t,n,i,s,u=ticketer.collections.users,a=this.model.get("assigned_to"),f=this.model.get("participants");this.$el.empty(),this.widget&&this.widget.dispose();if(a.length)for(t=0,n=a.length;t<n;t+=1)i=u.get(a[t]),s=e(r.to_html(o,i.toJSON())),this.$el.append(s.addClass("assigned"));for(t=0,n=f.length;t<n;t+=1){if(~a.indexOf(f[t]))continue;i=u.get(f[t]),s=e(r.to_html(o,i.toJSON())),(ticketer.currentUser.role==="admin"||ticketer.currentUser.id===f[t])&&s.addClass("removable"),this.$el.append(s)}return(ticketer.currentUser.role==="admin"||!~f.indexOf(ticketer.currentUser.id))&&this.renderWidget(),this},renderWidget:function(){this.widget=this.createView(s,{collection:ticketer.collections.users,model:this.model}),this.$el.append(this.widget.render().el)},unFollow:function(t){var n=e(t.currentTarget).data("id"),r=ticketer.currentUser.role,i;r==="admin"?(resp=confirm("Remove the user from the Ticket?"),resp&&this.model.stopParticipating(n)):n===ticketer.currentUser.id&&(resp=confirm("Unfollow this Ticket?"),resp&&this.model.unfollow())}});return u}),n("text!templates/widgets/TagWidget.html",[],function(){return'<a class="add tag-widget" data-action="display" title="Assign tag" href="#"><i class="icon-plus"></i></a>\n<ul class="tags"></ul>'}),n("views/widgets/TagWidgetView",["jquery","underscore","backbone","BaseView","mustache","text!templates/widgets/TagWidget.html","text!templates/widgets/Tag.html"],function(e,t,n,i,s,o,u){var a=i.extend({tagName:"li",className:"widget tag-widget",attributes:{"data-role":"assign-tag"},events:{"click [data-action='display']":"renderTags","click li":"assignTag"},initialize:function(){var t=this;this.$el.on("click",function(e){e.stopPropagation()}),e("html").on("click.tag-widget.data-api",function(){t.hideTags()})},dispose:function(){return e("html").off("click.tag-widget.data-api"),i.prototype.dispose.call(this)},render:function(){return this.$el.html(r.to_html(o)),this},renderTags:function(e){var t=this,n=this.model.id,r=this.$el.find(".tags");return r.empty(),this.collection.each(function(e){e.hasTicket(n)||r.append(t.renderTag(e)).fadeIn(200)}),e.preventDefault(),this},renderTag:function(e){var t=e.toJSON();return t.color=ticketer.colors[t.color].name,r.to_html(u,t)},assignTag:function(t){var n=e(t.currentTarget).data("id"),r=this.collection.get(n);r&&(r.addTicket(this.model.id),this.model.trigger("tag:add",r)),this.hideTags()},hideTags:function(){this.$el.find(".tags").fadeOut(200,function(){e(this).empty()})}});return a}),n("text!templates/tickets/AssignedTag.html",[],function(){return'<li data-id="{{id}}" title="{{name}}" class="tag color-{{color}}">\n  <i class="icon-bookmark"></i>\n</li>'}),n("views/tickets/TicketTagView",["jquery","underscore","backbone","BaseView","mustache","views/widgets/TagWidgetView","text!templates/tickets/AssignedTag.html"],function(e,t,n,i,s,o,u){var a=i.extend({tagName:"ul",className:"assigned-tags",events:{"click li.tag":"unassignTag"},initialize:function(){this.bindTo(this.model,"tag:add tag:remove",this.render,this)},render:function(){var e,t,n,r=this;this.$el.empty(),this.widget&&this.widget.dispose(),n=ticketer.collections.lists.filter(function(e){return e.hasTicket(r.model.id)}),this.renderWidget(),n.length===0&&this.$el.append("<li class='empty'>Add a Tag</li>");for(e=0,t=n.length;e<t;e++)this.$el.append(this.renderTag(n[e]));return this},renderTag:function(e){var t=e.toJSON();return t.color=ticketer.colors[t.color].name,r.to_html(u,t)},renderWidget:function(){this.widget=this.createView(o,{collection:ticketer.collections.lists,model:this.model}),this.$el.append(this.widget.render().el)},unassignTag:function(t){var n,r=e(t.currentTarget).data("id"),i=confirm("Remove this tag from the Ticket?");i&&(n=ticketer.collections.lists.get(r),n&&(n.removeTicket(this.model.id),this.model.trigger("tag:remove",n)))}});return a}),n("views/tickets/TicketMetaView",["jquery","underscore","mustache","BaseView","views/tickets/TicketAssignView","views/tickets/TicketTagView"],function(e,t,n,r,i,s){var o=r.extend({className:"ticket-meta",render:function(){return this.renderAssignView(),this.renderTagWidget(),this},renderAssignView:function(){var e;e=this.createView(i,{model:this.model}),this.$el.append(e.render().el)},renderTagWidget:function(){var e;e=this.createView(s,{model:this.model}),this.$el.append(e.render().el)}});return o}),n("text!templates/tickets/Ticket.html",[],function(){return'<div class="ticket-content">\n  <div class="header {{statusClass}}">\n    <hgroup>\n      <h2 class="title">{{title}}</h2>\n      <h4>{{user.name}}</h4>\n    </hgroup>\n\n    <div class="attrs">\n\n      {{#fullDate}}\n        <time title="{{hoverTime}}" datetime="{{datetime}}">{{fullDate}}</time>\n      {{/fullDate}}\n\n      {{^fullDate}}\n        <time title="{{hoverTime}}" datetime="{{datetime}}">{{cleanTime}}</time>\n      {{/fullDate}}\n\n      {{#showTags}}\n        <ul class="tags"></ul>\n      {{/showTags}}\n\n    </div>\n\n    {{#isEditable}}\n      <ul class="edit-options">\n        {{#isAssignable}}\n          <li data-role="assign-ticket"><a data-action="assign" href="#"><i class="icon-pushpin"></i></a></li>\n        {{/isAssignable}}\n        {{#isClosable}}\n          <li data-role="close-ticket"><a data-action="close" href="#"><i class="icon-ok"></i></a></li>\n        {{/isClosable}}\n        <li><a data-action="edit" href="#"><i class="icon-edit"></i></a></li>\n        <li><a data-action="delete" href="#"><i class="icon-trash"></i></a></li>\n      </ul>\n    {{/isEditable}}\n  </div>\n\n  {{#description}}\n    <div class="content md">\n      {{{description}}}\n    </div>\n  {{/description}}\n</div>'}),n("text!templates/tickets/EditTicket.html",[],function(){return'<div class="ticket-form">\n	<div class="wrap">\n  	<textarea name="description">{{description}}</textarea>\n  </div>\n  <div class="actions">\n    <ul class="right">\n      <li><button data-action="save">Save</button></li>\n      <li><button data-action="cancel" class="cancel">Cancel</button></li>\n    </ul>\n  </div>\n</div>'}),n("text!templates/tickets/ClosedNotification.html",[],function(){return'<div class="notification">\n  <p>This ticket has been closed.</p>\n</div>'}),function(e){function r(e,t,n,r){var i=n.lang();return i[e].call?i[e](n,r):i[e][t]}function i(e,t){return function(n){return f(e.call(this,n),t)}}function s(e){return function(t){var n=e.call(this,t);return n+this.lang().ordinal(n)}}function o(e,t,n){this._d=e,this._isUTC=!!t,this._a=e._a||null,this._lang=n||!1}function u(e){var t=this._data={},n=e.years||e.y||0,r=e.months||e.M||0,i=e.weeks||e.w||0,s=e.days||e.d||0,o=e.hours||e.h||0,u=e.minutes||e.m||0,f=e.seconds||e.s||0,l=e.milliseconds||e.ms||0;this._milliseconds=l+f*1e3+u*6e4+o*36e5,this._days=s+i*7,this._months=r+n*12,t.milliseconds=l%1e3,f+=a(l/1e3),t.seconds=f%60,u+=a(f/60),t.minutes=u%60,o+=a(u/60),t.hours=o%24,s+=a(o/24),s+=i*7,t.days=s%30,r+=a(s/30),t.months=r%12,n+=a(r/12),t.years=n,this._lang=!1}function a(e){return e<0?Math.ceil(e):Math.floor(e)}function f(e,t){var n=e+"";while(n.length<t)n="0"+n;return n}function l(e,t,n){var r=t._milliseconds,i=t._days,s=t._months,o;r&&e._d.setTime(+e+r*n),i&&e.date(e.date()+i*n),s&&(o=e.date(),e.date(1).month(e.month()+s*n).date(Math.min(o,e.daysInMonth())))}function c(e){return Object.prototype.toString.call(e)==="[object Array]"}function h(e,t){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,s;for(s=0;s<n;s++)~~e[s]!==~~t[s]&&i++;return i+r}function p(e,t,n,r){var i,s,o=[];for(i=0;i<7;i++)o[i]=e[i]=e[i]==null?i===2?1:0:e[i];return e[7]=o[7]=t,e[8]!=null&&(o[8]=e[8]),e[3]+=n||0,e[4]+=r||0,s=new Date(0),t?(s.setUTCFullYear(e[0],e[1],e[2]),s.setUTCHours(e[3],e[4],e[5],e[6])):(s.setFullYear(e[0],e[1],e[2]),s.setHours(e[3],e[4],e[5],e[6])),s._a=o,s}function d(e,n){var r,i,s=[];!n&&H&&(n=t("./lang/"+e));for(r=0;r<B.length;r++)n[B[r]]=n[B[r]]||D.en[B[r]];for(r=0;r<12;r++)i=A([2e3,r]),s[r]=new RegExp("^"+(n.months[r]||n.months(i,""))+"|^"+(n.monthsShort[r]||n.monthsShort(i,"")).replace(".",""),"i");return n.monthsParse=n.monthsParse||s,D[e]=n,n}function v(e){var t=typeof e=="string"&&e||e&&e._lang||null;return t?D[t]||d(t):A}function m(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function g(e){var t=e.match(F),n,r;for(n=0,r=t.length;n<r;n++)rt[t[n]]?t[n]=rt[t[n]]:t[n]=m(t[n]);return function(i){var s="";for(n=0;n<r;n++)s+=typeof t[n].call=="function"?t[n].call(i,e):t[n];return s}}function y(e,t){function n(t){return e.lang().longDateFormat[t]||t}var r=5;while(r--&&I.test(t))t=t.replace(I,n);return et[t]||(et[t]=g(t)),et[t](e)}function b(e){switch(e){case"DDDD":return z;case"YYYY":return W;case"S":case"SS":case"SSS":case"DDD":return U;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return X;case"Z":case"ZZ":return V;case"T":return $;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return R;default:return new RegExp(e.replace("\\",""))}}function w(e,t,n,r){var i,s;switch(e){case"M":case"MM":n[1]=t==null?0:~~t-1;break;case"MMM":case"MMMM":for(i=0;i<12;i++)if(v().monthsParse[i].test(t)){n[1]=i,s=!0;break}s||(n[8]=!1);break;case"D":case"DD":case"DDD":case"DDDD":t!=null&&(n[2]=~~t);break;case"YY":n[0]=~~t+(~~t>70?1900:2e3);break;case"YYYY":n[0]=~~Math.abs(t);break;case"a":case"A":r.isPm=(t+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":n[3]=~~t;break;case"m":case"mm":n[4]=~~t;break;case"s":case"ss":n[5]=~~t;break;case"S":case"SS":case"SSS":n[6]=~~(("0."+t)*1e3);break;case"Z":case"ZZ":r.isUTC=!0,i=(t+"").match(G),i&&i[1]&&(r.tzh=~~i[1]),i&&i[2]&&(r.tzm=~~i[2]),i&&i[0]==="+"&&(r.tzh=-r.tzh,r.tzm=-r.tzm)}t==null&&(n[8]=!1)}function E(e,t){var n=[0,0,1,0,0,0,0],r={tzh:0,tzm:0},i=t.match(F),s,o;for(s=0;s<i.length;s++)o=(b(i[s]).exec(e)||[])[0],o&&(e=e.slice(e.indexOf(o)+o.length)),rt[i[s]]&&w(i[s],o,n,r);return r.isPm&&n[3]<12&&(n[3]+=12),r.isPm===!1&&n[3]===12&&(n[3]=0),p(n,r.isUTC,r.tzh,r.tzm)}function S(e,t){var n,r=e.match(q)||[],i,s=99,u,a,f;for(u=0;u<t.length;u++)a=E(e,t[u]),i=y(new o(a),t[u]).match(q)||[],f=h(r,i),f<s&&(s=f,n=a);return n}function x(e){var t="YYYY-MM-DDT",n;if(J.exec(e)){for(n=0;n<4;n++)if(Q[n][1].exec(e)){t+=Q[n][0];break}return V.exec(e)?E(e,t+" Z"):E(e,t)}return new Date(e)}function T(e,t,n,r,i){var s=i.relativeTime[e];return typeof s=="function"?s(t||1,!!n,e,r):s.replace(/%d/i,t||1)}function N(e,t,n){var r=M(Math.abs(e)/1e3),i=M(r/60),s=M(i/60),o=M(s/24),u=M(o/365),a=r<45&&["s",r]||i===1&&["m"]||i<45&&["mm",i]||s===1&&["h"]||s<22&&["hh",s]||o===1&&["d"]||o<=25&&["dd",o]||o<=45&&["M"]||o<345&&["MM",M(o/30)]||u===1&&["y"]||["yy",u];return a[2]=t,a[3]=e>0,a[4]=n,T.apply({},a)}function C(e,t){A.fn[e]=function(e){var n=this._isUTC?"UTC":"";return e!=null?(this._d["set"+n+t](e),this):this._d["get"+n+t]()}}function k(e){A.duration.fn[e]=function(){return this._data[e]}}function L(e,t){A.duration.fn["as"+e]=function(){return+this/t}}var A,O="1.7.2",M=Math.round,_,D={},P="en",H=typeof module!="undefined"&&module.exports,B="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),j=/^\/?Date\((\-?\d+)/i,F=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,q=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,R=/\d\d?/,U=/\d{1,3}/,z=/\d{3}/,W=/\d{1,4}/,X=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,V=/Z|[\+\-]\d\d:?\d\d/i,$=/T/i,J=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,K="YYYY-MM-DDTHH:mm:ssZ",Q=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],G=/([\+\-]|\d\d)/gi,Y="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Z={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},et={},tt="DDD w M D d".split(" "),nt="M D H h m s w".split(" "),rt={M:function(){return this.month()+1},MMM:function(e){return r("monthsShort",this.month(),this,e)},MMMM:function(e){return r("months",this.month(),this,e)},D:function(){return this.date()},DDD:function(){var e=new Date(this.year(),this.month(),this.date()),t=new Date(this.year(),0,1);return~~((e-t)/864e5+1.5)},d:function(){return this.day()},dd:function(e){return r("weekdaysMin",this.day(),this,e)},ddd:function(e){return r("weekdaysShort",this.day(),this,e)},dddd:function(e){return r("weekdays",this.day(),this,e)},w:function(){var e=new Date(this.year(),this.month(),this.date()-this.day()+5),t=new Date(e.getFullYear(),0,4);return~~((e-t)/864e5/7+1.5)},YY:function(){return f(this.year()%100,2)},YYYY:function(){return f(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return f(~~(this.milliseconds()/10),2)},SSS:function(){return f(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+f(~~(e/60),2)+":"+f(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+f(~~(10*e/6),4)}};while(tt.length)_=tt.pop(),rt[_+"o"]=s(rt[_]);while(nt.length)_=nt.pop(),rt[_+_]=i(rt[_],2);rt.DDDD=i(rt.DDD,3),A=function(t,n){if(t===null||t==="")return null;var r,i;return A.isMoment(t)?new o(new Date(+t._d),t._isUTC,t._lang):(n?c(n)?r=S(t,n):r=E(t,n):(i=j.exec(t),r=t===e?new Date:i?new Date(+i[1]):t instanceof Date?t:c(t)?p(t):typeof t=="string"?x(t):new Date(t)),new o(r))},A.utc=function(e,t){return c(e)?new o(p(e,!0),!0):(typeof e=="string"&&!V.exec(e)&&(e+=" +0000",t&&(t+=" Z")),A(e,t).utc())},A.unix=function(e){return A(e*1e3)},A.duration=function(e,t){var n=A.isDuration(e),r=typeof e=="number",i=n?e._data:r?{}:e,s;return r&&(t?i[t]=e:i.milliseconds=e),s=new u(i),n&&(s._lang=e._lang),s},A.humanizeDuration=function(e,t,n){return A.duration(e,t===!0?null:t).humanize(t===!0?!0:n)},A.version=O,A.defaultFormat=K,A.lang=function(e,t){var n;if(!e)return P;(t||!D[e])&&d(e,t);if(D[e]){for(n=0;n<B.length;n++)A[B[n]]=D[e][B[n]];A.monthsParse=D[e].monthsParse,P=e}},A.langData=v,A.isMoment=function(e){return e instanceof o},A.isDuration=function(e){return e instanceof u},A.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"}}),A.fn=o.prototype={clone:function(){return A(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?this._a[8]!=null?!!this._a[8]:!h(this._a,(this._a[7]?A.utc(this._a):A(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(e){return y(this,e?e:A.defaultFormat)},add:function(e,t){var n=t?A.duration(+t,e):A.duration(e);return l(this,n,1),this},subtract:function(e,t){var n=t?A.duration(+t,e):A.duration(e);return l(this,n,-1),this},diff:function(e,t,n){var r=this._isUTC?A(e).utc():A(e).local(),i=(this.zone()-r.zone())*6e4,s=this._d-r._d-i,o=this.year()-r.year(),u=this.month()-r.month(),a=this.date()-r.date(),f;return t==="months"?f=o*12+u+a/30:t==="years"?f=o+(u+a/30)/12:f=t==="seconds"?s/1e3:t==="minutes"?s/6e4:t==="hours"?s/36e5:t==="days"?s/864e5:t==="weeks"?s/6048e5:s,n?f:M(f)},from:function(e,t){return A.duration(this.diff(e)).lang(this._lang).humanize(!t)},fromNow:function(e){return this.from(A(),e)},calendar:function(){var e=this.diff(A().sod(),"days",!0),t=this.lang().calendar,n=t.sameElse,r=e<-6?n:e<-1?t.lastWeek:e<0?t.lastDay:e<1?t.sameDay:e<2?t.nextDay:e<7?t.nextWeek:n;return this.format(typeof r=="function"?r.apply(this):r)},isLeapYear:function(){var e=this.year();return e%4===0&&e%100!==0||e%400===0},isDST:function(){return this.zone()<A([this.year()]).zone()||this.zone()<A([this.year(),5]).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e==null?t:this.add({d:e-t})},startOf:function(e){switch(e.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return this},endOf:function(e){return this.startOf(e).add(e.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return A.utc([this.year(),this.month()+1,0]).date()},lang:function(t){return t===e?v(this):(this._lang=t,this)}};for(_=0;_<Y.length;_++)C(Y[_].toLowerCase(),Y[_]);C("year","FullYear"),A.duration.fn=u.prototype={weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(e){var t=+this,n=this.lang().relativeTime,r=N(t,!e,this.lang()),i=t<=0?n.past:n.future;return e&&(typeof i=="function"?r=i(r):r=i.replace(/%s/i,r)),r},lang:A.fn.lang};for(_ in Z)Z.hasOwnProperty(_)&&(L(_,Z[_]),k(_.toLowerCase()));L("Weeks",6048e5),H&&(module.exports=A),typeof ender=="undefined"&&(this.moment=A),typeof n=="function"&&n.amd&&n("moment",[],function(){return A})}.call(this),function(){function c(){var e="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+";return e}function h(e,t){return e=e.source,t=t||"",function n(r,i){return r?(e=e.replace(r,i.source||i),n):new RegExp(e,t)}}function p(){}var e={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:p,hr:/^( *[\-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [^\0]+?(?:rule|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *([^\s]+)(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,paragraph:/^([^\n]+\n?(?!body))+\n*/,text:/^[^\n]+/};e.bullet=/(?:[*+-]|\d+\.)/,e.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,e.item=h(e.item,"gm")(/bull/g,e.bullet)(),e.list=h(e.list)(/bull/g,e.bullet)("rule",/\n+(?=(?: *[-*_]){3,})/)(),e.html=h(e.html)("comment",/<!--[^\0]*?-->/)("closed",/<(tag)[^\0]+?<\/\1>/)("closing",/<tag(?!:\/|@)\b(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,c())(),e.paragraph=function(){var t=e.paragraph.source,n=[];return function r(t){return t=e[t]?e[t].source:t,n.push(t.replace(/(^|[^\[])\^/g,"$1")),r}("hr")("heading")("lheading")("blockquote")("<"+c())("def"),new RegExp(t.replace("body",n.join("|")))}(),e.normal={fences:e.fences,paragraph:e.paragraph},e.gfm={fences:/^ *``` *(\w+)? *\n([^\0]+?)\s*``` *(?:\n+|$)/,paragraph:/^/},e.gfm.paragraph=h(e.paragraph)("(?!","(?!"+e.gfm.fences.source.replace(/(^|[^\[])\^/g,"$1")+"|")(),e.lexer=function(t){var n=[];return n.links={},t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),e.token(t,n,!0)},e.token=function(t,n,r){var t=t.replace(/^ +$/gm,""),i,s,o,u,a,f,l;while(t){if(o=e.newline.exec(t))t=t.substring(o[0].length),o[0].length>1&&n.push({type:"space"});if(o=e.code.exec(t)){t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),n.push({type:"code",text:v.pedantic?o:o.replace(/\n+$/,"")});continue}if(o=e.fences.exec(t)){t=t.substring(o[0].length),n.push({type:"code",lang:o[1],text:o[2]});continue}if(o=e.heading.exec(t)){t=t.substring(o[0].length),n.push({type:"heading",depth:o[1].length,text:o[2]});continue}if(o=e.lheading.exec(t)){t=t.substring(o[0].length),n.push({type:"heading",depth:o[2]==="="?1:2,text:o[1]});continue}if(o=e.hr.exec(t)){t=t.substring(o[0].length),n.push({type:"hr"});continue}if(o=e.blockquote.exec(t)){t=t.substring(o[0].length),n.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),e.token(o,n,r),n.push({type:"blockquote_end"});continue}if(o=e.list.exec(t)){t=t.substring(o[0].length),n.push({type:"list_start",ordered:isFinite(o[2])}),o=o[0].match(e.item),i=!1,l=o.length,f=0;for(;f<l;f++)u=o[f],a=u.length,u=u.replace(/^ *([*+-]|\d+\.) +/,""),~u.indexOf("\n ")&&(a-=u.length,u=v.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+a+"}","gm"),"")),s=i||/\n\n(?!\s*$)/.test(u),f!==l-1&&(i=u[u.length-1]==="\n",s||(s=i)),n.push({type:s?"loose_item_start":"list_item_start"}),e.token(u,n),n.push({type:"list_item_end"});n.push({type:"list_end"});continue}if(o=e.html.exec(t)){t=t.substring(o[0].length),n.push({type:"html",pre:o[1]==="pre",text:o[0]});continue}if(r&&(o=e.def.exec(t))){t=t.substring(o[0].length),n.links[o[1].toLowerCase()]={href:o[2],title:o[3]};continue}if(r&&(o=e.paragraph.exec(t))){t=t.substring(o[0].length),n.push({type:"paragraph",text:o[0]});continue}if(o=e.text.exec(t)){t=t.substring(o[0].length),n.push({type:"text",text:o[0]});continue}}return n};var t={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:p,tag:/^<!--[^\0]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([^\0]+?)__(?!_)|^\*\*([^\0]+?)\*\*(?!\*)/,em:/^\b_((?:__|[^\0])+?)_\b|^\*((?:\*\*|[^\0])+?)\*(?!\*)/,code:/^(`+)([^\0]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,text:/^[^\0]+?(?=[\\<!\[_*`]| {2,}\n|$)/};t._linkInside=/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/,t._linkHref=/\s*<?([^\s]*?)>?(?:\s+['"]([^\0]*?)['"])?\s*/,t.link=h(t.link)("inside",t._linkInside)("href",t._linkHref)(),t.reflink=h(t.reflink)("inside",t._linkInside)(),t.normal={url:t.url,strong:t.strong,em:t.em,text:t.text},t.pedantic={strong:/^__(?=\S)([^\0]*?\S)__(?!_)|^\*\*(?=\S)([^\0]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([^\0]*?\S)_(?!_)|^\*(?=\S)([^\0]*?\S)\*(?!\*)/},t.gfm={url:/^(https?:\/\/[^\s]+[^.,:;"')\]\s])/,text:/^[^\0]+?(?=[\\<!\[_*`]|https?:\/\/| {2,}\n|$)/},t.lexer=function(e){var i="",s=r.links,o,u,a,c;while(e){if(c=t.escape.exec(e)){e=e.substring(c[0].length),i+=c[1];continue}if(c=t.autolink.exec(e)){e=e.substring(c[0].length),c[2]==="@"?(u=c[1][6]===":"?l(c[1].substring(7)):l(c[1]),a=l("mailto:")+u):(u=f(c[1]),a=u),i+='<a href="'+a+'">'+u+"</a>";continue}if(c=t.url.exec(e)){e=e.substring(c[0].length),u=f(c[1]),a=u,i+='<a href="'+a+'">'+u+"</a>";continue}if(c=t.tag.exec(e)){e=e.substring(c[0].length),i+=v.sanitize?f(c[0]):c[0];continue}if(c=t.link.exec(e)){e=e.substring(c[0].length),i+=n(c,{href:c[2],title:c[3]});continue}if((c=t.reflink.exec(e))||(c=t.nolink.exec(e))){e=e.substring(c[0].length),o=(c[2]||c[1]).replace(/\s+/g," "),o=s[o.toLowerCase()];if(!o||!o.href){i+=c[0][0],e=c[0].substring(1)+e;continue}i+=n(c,o);continue}if(c=t.strong.exec(e)){e=e.substring(c[0].length),i+="<strong>"+t.lexer(c[2]||c[1])+"</strong>";continue}if(c=t.em.exec(e)){e=e.substring(c[0].length),i+="<em>"+t.lexer(c[2]||c[1])+"</em>";continue}if(c=t.code.exec(e)){e=e.substring(c[0].length),i+="<code>"+f(c[2],!0)+"</code>";continue}if(c=t.br.exec(e)){e=e.substring(c[0].length),i+="<br>";continue}if(c=t.text.exec(e)){e=e.substring(c[0].length),i+=f(c[0]);continue}}return i};var n=function(e,n){return e[0][0]!=="!"?'<a href="'+f(n.href)+'"'+(n.title?' title="'+f(n.title)+'"':"")+">"+t.lexer(e[1])+"</a>":'<img src="'+f(n.href)+'" alt="'+f(e[1])+'"'+(n.title?' title="'+f(n.title)+'"':"")+">"},r,i,s=function(){return i=r.pop()},o=function(){switch(i.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+i.depth+">"+t.lexer(i.text)+"</h"+i.depth+">\n";case"code":return v.highlight&&(i.code=v.highlight(i.text,i.lang),i.code!=null&&i.code!==i.text&&(i.escaped=!0,i.text=i.code)),i.escaped||(i.text=f(i.text,!0)),"<pre><code"+(i.lang?' class="lang-'+i.lang+'"':"")+">"+i.text+"</code></pre>\n";case"blockquote_start":var e="";while(s().type!=="blockquote_end")e+=o();return"<blockquote>\n"+e+"</blockquote>\n";case"list_start":var n=i.ordered?"ol":"ul",e="";while(s().type!=="list_end")e+=o();return"<"+n+">\n"+e+"</"+n+">\n";case"list_item_start":var e="";while(s().type!=="list_item_end")e+=i.type==="text"?u():o();return"<li>"+e+"</li>\n";case"loose_item_start":var e="";while(s().type!=="list_item_end")e+=o();return"<li>"+e+"</li>\n";case"html":return v.sanitize?t.lexer(i.text):!i.pre&&!v.pedantic?t.lexer(i.text):i.text;case"paragraph":return"<p>"+t.lexer(i.text)+"</p>\n";case"text":return"<p>"+u()+"</p>\n"}},u=function(){var e=i.text,n;while((n=r[r.length-1])&&n.type==="text")e+="\n"+s().text;return t.lexer(e)},a=function(e){r=e.reverse();var t="";while(s())t+=o();return r=null,i=null,t},f=function(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},l=function(e){var t="",n=e.length,r=0,i;for(;r<n;r++)i=e.charCodeAt(r),Math.random()>.5&&(i="x"+i.toString(16)),t+="&#"+i+";";return t};p.exec=p;var d=function(t,n){return g(n),a(e.lexer(t))},v,m,g=function(n){n||(n=m);if(v===n)return;v=n,v.gfm?(e.fences=e.gfm.fences,e.paragraph=e.gfm.paragraph,t.text=t.gfm.text,t.url=t.gfm.url):(e.fences=e.normal.fences,e.paragraph=e.normal.paragraph,t.text=t.normal.text,t.url=t.normal.url),v.pedantic?(t.em=t.pedantic.em,t.strong=t.pedantic.strong):(t.em=t.normal.em,t.strong=t.normal.strong)};d.options=d.setOptions=function(e){return m=e,g(e),d},d.options({gfm:!0,pedantic:!1,sanitize:!1,highlight:null}),d.parser=function(e,t){return g(t),a(e)},d.lexer=function(t,n){return g(n),e.lexer(t)},d.parse=d,typeof module!="undefined"?module.exports=d:this.marked=d}.call(function(){return this||(typeof window!="undefined"?window:global)}()),n("marked",function(){}),n("views/tickets/TicketView",["jquery","underscore","mustache","BaseView","views/tickets/TicketMetaView","text!templates/tickets/Ticket.html","text!templates/tickets/AssignedUser.html","text!templates/tickets/EditTicket.html","text!templates/tickets/ClosedNotification.html","text!templates/tickets/AssignedTag.html","moment","marked"],function(e,t,n,i,s,o,u,a,f,l){var c=i.extend({className:"ticket",attributes:function(){return{"data-id":this.model.id}},events:{"click a[data-action]":"ticketAction","click [data-action='save']":"saveTicket","click [data-action='cancel']":"renderDescription","click .md a":"openLink"},initialize:function(){this.renderAll=this.options.renderAll||!1,this.renderAll||(this.bindTo(ticketer.collections.lists,"reset",this.renderTags,this),this.bindTo(this.model,"tag:add tag:remove",this.renderTags,this)),this.bindTo(this.model,"edit",this.renderEditForm,this),this.bindTo(this.model,"change:read",this.render,this),this.bindTo(this.model,"change:description",this.renderDescription,this),this.bindTo(this.model,"change:status",this.renderStatusNotification,this),this.bindTo(this.model,"change:notification",this.renderStatusMarker,this)},render:function(){var t=this,n=this.packageModel();return e(this.el).html(r.to_html(o,n)),this.renderAll&&this.model.isOpen()&&this.renderMeta(),this.renderAll||this.renderTags(),this},renderMeta:function(){var e;e=this.createView(s,{model:this.model}),this.$el.append(e.render().el)},renderTags:function(){var t,n,r,i=this;e(".tags",this.el).empty(),r=ticketer.collections.lists.filter(function(e){return e.hasTicket(i.model.id)});for(t=0,n=r.length;t<n;t++)e("ul.tags",this.el).append(this.renderTag(r[t]))},renderTag:function(e){var t=e.toJSON();return t.color=ticketer.colors[t.color].name,r.to_html(l,t)},packageModel:function(){var e,t={};return t.title=this.model.get("title"),t.user=this.model.get("user"),t.datetime=this.model.get("closed_at")||this.model.get("opened_at"),e=moment(new Date(t.datetime)),e.calendar().match(/(Today|Yesterday)/g)?t.cleanTime=RegExp.$1:t.cleanTime=e.format("MMM D"),t.hoverTime=this.model.responseTime()||t.cleanTime,t.isClosed=this.model.get("status")==="closed",t.showTags=!0,this.model.notification()?t.statusClass="notify":t.statusClass=this.model.get("read")?"read":"unread",this.renderAll&&(t.description=marked(this.model.get("description")),t.fullDate=e.format("MMMM Do, YYYY h:mm A"),t.showTags=!1,t.isEditable=this.isEditable(t),t.isAssignable=ticketer.currentUser.role==="admin"&&!this.model.get("read"),t.isClosable=!!~this.model.get("assigned_to").indexOf(ticketer.currentUser.id)&&!t.isClosed),t},isEditable:function(e){return(e.user.id===ticketer.currentUser.id||ticketer.currentUser.role==="admin")&&!e.isClosed},ticketAction:function(t){var n,r=e(t.currentTarget).data("action"),i="Delete this ticket? This cannot be undone",s="Close this ticket? This cannot be undone",o="Take responsibility for this ticket? This cannot be undone";switch(r){case"assign":n=confirm(o),n&&this.model.assignUser(ticketer.currentUser.id);break;case"close":n=confirm(s),n&&this.model.close();break;case"edit":this.model.trigger("edit");break;case"delete":n=confirm(i),n&&this.model.destroy()}t.preventDefault()},renderEditForm:function(){var t=e(".ticket .ticket-form",this.$el).length;t||(e(".content",this.$el).html(r.to_html(a,{description:this.model.get("description")})),e("textarea",this.$el).autoResize({minHeight:150,extraSpace:14}))},saveTicket:function(t){t.preventDefault();var n=this,r=e(".wrap > textarea",n.el).val();e("textarea",this.el).data("AutoResizer").destroy(),n.model.save({description:r},{error:n.triggerViewError})},renderDescription:function(){if(!this.renderAll)return!1;var t=marked(this.model.get("description"));e(".content",this.el).html(t)},renderStatusNotification:function(){if(!this.renderAll)return!1;this.$(".content").before(r.to_html(f)),ticketer.currentUser.role==="admin"&&e('.edit-options li[data-role="close-ticket"]').remove()},renderStatusMarker:function(){var e=this.$(".header");this.model.notification()?e.removeClass("unread read").addClass("notify"):this.model.get("read")?e.removeClass("unread notify").addClass("read"):e.removeClass("read notify").addClass("unread")},openLink:function(e){e.preventDefault(),e.stopPropagation(),window.open(e.currentTarget.href)}});return c}),n("views/tickets/TicketListView",["jquery","underscore","backbone","BaseView","views/tickets/TicketView"],function(e,t,n,r,i){var s=r.extend({className:"ticket-list",events:{"click .ticket":"showDetails"},initialize:function(){function e(e){var t=this;typeof e=="function"?this.filter=function(n){return t._filter(n)&&e(n)}:this.filter=this._filter,this.render()}this.status=this.options.status?this.options.status:"open",this.filter=this.options.filter||function(){return!0},this._filter=this.filter,this.controller=this.options.controller||null,this.collectionFilter=this.options.collectionFilter||function(){return!0},this.bindTo(this.collection,"add remove reset",this.render,this),this.bindTo(ticketer.EventEmitter,"list:filter",e,this),this.bindTo(ticketer.EventEmitter,"collection:reset",this.refresh,this),this.bindTo(ticketer.EventEmitter,"ticket:new",this.newTicket,this)},dispose:function(){return this.collection.destroy(),delete this.collection,r.prototype.dispose.call(this)},render:function(){var e,t=this.collection.filter(this.filter),n=t.length;if(n){this.$el.empty();for(e=0;e<n;e+=1)this.$el.append(this.renderTicket(t[e]))}else this.$el.html('<div class="view-filler"><p>No tickets to list</p></div>');return this},refresh:function(){this.collection.fetch({data:{status:this.status}})},renderTicket:function(e){var t=this.createView(i,{model:e});return t.render().el},showDetails:function(t){var n=e(t.currentTarget).data("id"),r=this.collection.get(n);this.$el.find(".active").removeClass("active"),this.$el.find('.ticket[data-id="'+n+'"]').addClass("active"),this.controller&&this.controller.showTicket(r)},newTicket:function(e){e.status===this.status&&this.collectionFilter(e)&&this.collection.add(e)}});return s}),n("text!templates/comments/Comment.html",[],function(){return'<!-- Comment Avatar -->\n<div class="avatar">\n  <img src="{{user.avatar}}" alt="{{user.name}}">\n</div>\n\n<!-- Comment Body -->\n<div class="body">\n  <div class="commentHeader">\n    <h5>{{user.name}}</h5>\n    <time datetime="{{created_at}}">{{cleanTime}}</time>\n  </div>\n\n  <div class="md">\n    {{{comment}}}\n  </div>\n</div>\n\n{{#isDeletable}}\n<!-- Comment options -->\n<ul class="edit-actions">\n  {{#isEditable}}\n  <li><a href="#" data-action="edit"><i class="icon-pencil"></i></a></li>\n  {{/isEditable}}\n\n  <li><a href="#" data-action="delete"><i class="icon-trash"></i></a></li>\n</ul>\n{{/isDeletable}}'}),n("text!templates/comments/EditComment.html",[],function(){return'<div class="comment-form">\n  <form action="#">\n    <div class="wrap">\n      <textarea class="placeholder" name="ticket_comment">{{comment}}</textarea>\n    </div>\n    <div class="actions">\n      <ul class="right">\n        <li><button data-action="save">Save</button></li>\n        <li><button data-action="cancel" class="cancel">Cancel</button></li>\n      </ul>\n    </div>\n  </form>\n</div>'}),n("views/comments/CommentView",["jquery","underscore","backbone","BaseView","mustache","text!templates/comments/Comment.html","text!templates/comments/EditComment.html","moment","marked"],function(e,t,n,i,s,o,u){var a=i.extend({tagName:"li",className:"comment",attributes:function(){return{"data-id":this.model.id}},events:{"click [data-action='delete']":"removeComment","click [data-action='edit']":"editComment","click [data-action='save']":"saveComment","click [data-action='cancel']":"renderEdit","click .md a":"openLink"},initialize:function(){this.bindTo(this.model,"change",this.render,this)},dispose:function(){var e=this.$el.find("textarea");return e.length>0&&(e=e.data("AutoResizer"),e&&e.destroy()),i.prototype.dispose.call(this)},render:function(){var t;t=this.model.toJSON();var n=moment(new Date(t.created_at));return t.cleanTime=n.fromNow(),t.isDeletable=this.isDeletable(t),t.isEditable=this.isEditable(t),t.comment=marked(t.comment),e(this.el).html(r.to_html(o,t)),this},renderEdit:function(e){var t=this,n=this.$el.find("textarea").data("AutoResizer");n&&n.destroy(),this.$el.fadeOut(200,function(){t.render(),t.$el.fadeIn(200)}),e instanceof jQuery.Event&&e.preventDefault()},isEditable:function(e){return e.user.id===ticketer.currentUser.id},isDeletable:function(e){return e.user.id===ticketer.currentUser.id||ticketer.currentUser.role==="admin"},editComment:function(e){this.$el.find(".body").html(r.to_html(u,{comment:this.model.get("comment")})),this.$el.find("textarea").autoResize({minHeight:64,extraSpace:10}),this.$el.find(".edit-actions").hide(),e.preventDefault()},saveComment:function(e){var t=this,n=this.$el.find("textarea").val();t.model.save({comment:n},{silent:!0,success:function(){t.renderEdit()}}),e.preventDefault()},removeComment:function(e){var t,n=this;t=confirm("Are you sure you want to delete this comment? It cannot be undone"),t===!0&&(this.model.destroy(),this.$el.fadeOut(200,function(){n.dispose()})),e.preventDefault()},openLink:function(e){e.preventDefault(),e.stopPropagation(),window.open(e.currentTarget.href)}});return a}),n("text!templates/comments/CommentForm.html",[],function(){return'<div class="body full">\n  <div class="wrap">\n    <textarea class="placeholder" name="ticket_comment" placeholder="Enter your comment..."></textarea>\n  </div>\n  <div class="actions">\n    <ul class="right">\n      <li><button data-action="create">Post</button></li>\n    </ul>\n  </div>\n</div>'}),n("views/comments/CommentFormView",["jquery","underscore","backbone","BaseView","mustache","text!templates/comments/CommentForm.html"],function(e,t,n,i,s,o){var u=i.extend({className:"comment-form comment",events:{"click [data-action='create']":"create","focus textarea":"initResize"},render:function(){return e(this.el).html(r.to_html(o,ticketer.currentUser)),this},initResize:function(){e("textarea",this.el).autoResize({minHeight:64,extraSpace:10})},dispose:function(){var e=this.$el.find("textarea").data("AutoResizer");return e&&e.destroy(),i.prototype.dispose.call(this)},create:function(){var e=this.$el.find("textarea");this.collection.create({comment:e.val()},{wait:!0}),e.val("").blur(),e.css({height:"64px"})}});return u}),n("text!templates/comments/CommentList.html",[],function(){return'<h3 class="title">Comments</h3>\n\n<div class="form-wrapper" role="comment-form"></div>\n<ul class="comments-list" role="comment-list"></ul>'}),n("views/comments/CommentListView",["jquery","underscore","backbone","BaseView","views/helpers/SpinnerView","views/comments/CommentView","views/comments/CommentFormView","text!templates/comments/CommentList.html"],function(e,t,n,r,i,s,o,u){var a=r.extend({className:"comments-wrapper",initialize:function(){this.bindTo(this.collection,"add",this.addComment,this),this.bindTo(this.collection,"remove",this.removeComment,this)},render:function(){var e=this,t=new i;return this.$el.html(u),this.renderCommentForm(),this.$el.append(t.render().el),this.collection.fetch(function(){e.$el.children(".comments-list").hide(),e.collection.each(e.addComment,e),t.$el.fadeOut(400,function(){t.dispose(),e.$el.children(".comments-list").fadeIn(400)})}),this},dispose:function(){return this.collection=this.collection.destroy(),delete this.collection,r.prototype.dispose.call(this)},renderCommentForm:function(){var t=this.createView(o,{collection:this.collection});e("[role=comment-form]",this.$el).html(t.render().el)},addComment:function(t){var n=this.createView(s,{model:t}),r=n.render().el;e(r).hide(),e("[role=comment-list]",this.$el).append(r),e(r).fadeIn(200)},removeComment:function(t){var n=t.get("id");e("[data-id="+n+"]",this.el).remove()}});return a}),n("views/tickets/TicketDetailsView",["jquery","underscore","backbone","BaseView","collections/Comments","views/tickets/TicketView","views/comments/CommentListView","views/comments/CommentFormView"],function(e,t,n,r,i,s,o,u){var a=r.extend({className:"ticket-details",initialize:function(){this.bindTo(this.model,"remove",this.dispose,this)},render:function(){return this.renderTicket(),this.renderComments(),this},dispose:function(){return this.model.notification()&&this.model.removeNotification(),r.prototype.dispose.call(this)},renderTicket:function(){var t=this.createView(s,{model:this.model,admin:!0,renderAll:!0});e(this.el).html(t.render().el)},renderComments:function(){var t=new i(null,{ticketId:this.model.id}),n=this.createView(o,{collection:t});e(this.el).append(n.render().el)}});return a}),n("support/PanelController",["jquery","collections/Tickets","views/helpers/FillerView","views/helpers/SpinnerView","views/toolbars/MainToolbarView","views/tickets/TicketListView","views/tickets/TicketDetailsView"],function(e,t,n,r,i,s,o){var u=function(){var n=this;this._panels={},this._setHeight(),this._setWidths(this._panelPositions()),this._setPanel("one",i),e("#main > div").css("display","block"),e(window).resize(this._setHeight),e("#panel-divider").on("mousedown",function(){e("body").addClass("unselectable"),e(window).on("mousemove",n._resizeWidths.bind(n)),e(window).one("mouseup",function(){e(window).off("mousemove"),e("body").removeClass("unselectable"),window.getSelection().empty()})})};return u.prototype.showOpenTickets=function(){var e=this,i=new t;this._callViewFunction("one","selectTab","tickets/open"),this._setPanel("two",r),i.fetch({data:{status:"open"},success:function(){e._setPanel("two",s,{collection:i,controller:e}),e._setPanel("three",n)}})},u.prototype.showMyTickets=function(){var e=this,i=new t(null,{url:"/api/tickets/mine"});this._callViewFunction("one","selectTab","tickets/mine"),this._setPanel("two",r),i.fetch({data:{status:"open"},success:function(){e._setPanel("two",s,{collection:i,controller:e,collectionFilter:function(e){return e.participating?e.participating:!1}}),e._setPanel("three",n)}})},u.prototype.showClosedTickets=function(){var e=this,i=new t(null,{comparator:function(e){var t=new Date(e.get("closed_at")),n=t.getTime();return-n}});this._callViewFunction("one","selectTab","tickets/closed"),this._setPanel("two",r),i.fetch({data:{status:"closed"},success:function(){e._setPanel("two",s,{collection:i,status:"closed",controller:e}),e._setPanel("three",n)}})},u.prototype.showTicket=function(e){var t=this;this._setPanel("three",o,{model:e}),this._callViewFunction("three","bindTo",this._panels.three.model,"remove",function(){t._setPanel("three",n)})},u.prototype._setPanel=function(t,n,r){r=r||{},this._panels.hasOwnProperty(t)&&typeof this._panels[t].dispose=="function"&&(this._panels[t].dispose(),delete this._panels[t]),this._panels[t]=new n(r),e("#panel-"+t).html(this._panels[t].render().el)},u.prototype._callViewFunction=function(){var e=Array.prototype.slice.call(arguments),t=e.shift(),n=e.shift();if(typeof t!="string"||typeof n!="string"){console.error("Invalid call to _callViewFunction().");return}this._panels[t]&&typeof this._panels[t][n]!="undefined"?this._panels[t][n].apply(this._panels[t],e):console.error("Attempted to call nonexistent function "+n+" on panel "+t)},u.prototype._setHeight=function(){var t=e(window).height(),n=e("header").height()+1;e("#main").css("height",t-n)},u.prototype._resizeWidths=function(t){var n=e("#panel-one"),r=e("#panel-two"),i=e("#panel-three"),s=e("#panel-divider"),o={two:{},three:{},divider:{}};t.pageX>440&&t.pageX<1200&&(o.divider.left=t.pageX,o.two.width=t.pageX-n.width(),o.three.left=t.pageX,this._setWidths(o),this._panelPositions(o))},u.prototype._setWidths=function(t){if(!t)return;Object.keys(t).forEach(function(n){e("#panel-"+n).css(t[n])})},u.prototype._panelPositions=function(e){var t=window.localStorage;return typeof e!="undefined"?(t.setItem("panel-positions",JSON.stringify(e)),e):JSON.parse(t.getItem("panel-positions"))},u}),n("models/User",["underscore","backbone"],function(e,t){return t.Model.extend({})}),n("collections/Users",["underscore","backbone","models/User"],function(e,t,n){var r=t.Collection.extend({model:n,url:"/api/users",initialize:function(){this.comparator=function(e){return e.get("name")}}});return r}),n("models/Project",["underscore","backbone"],function(e,t){var n;return n=t.Model.extend({initialize:function(){this.on("error",function(){ticketer.EventEmitter.trigger("error","Error saving project")})},hasTicket:function(e){return!!~this.get("tickets").indexOf(e)},addTicket:function(t,n){var r=this.get("tickets");return e.isArray(t)?e(t).each(function(e){~r.indexOf(e)||r.push(e)}):~r.indexOf(t)||r.push(t),this.save(null,{error:n}),this},removeTicket:function(t,n){function i(e){var t=r.indexOf(e);t!==-1&&r.splice(t,1)}var r=this.get("tickets");return e.isArray(t)?e(t).each(function(e){i(e)}):i(t),this.save(null,{error:n}),this},validate:function(e){if(typeof e.name!="undefined"&&!e.name.replace(/\s/g,"").length)return"You must enter a project name."}}),n}),n("collections/Projects",["underscore","backbone","models/Project"],function(e,t,n){var r;return r=t.Collection.extend({model:n,url:"/api/projects",initialize:function(){ticketer.EventEmitter.on("project:new",this.addProject),ticketer.EventEmitter.on("project:update",this.updateProject),ticketer.EventEmitter.on("project:remove",this.removeProject)},getProjectTickets:function(e){var t=this.get(e.id);return t.get("tickets")},addProject:function(e){var t=this.get(e.id);t||this.add(e)},updateProject:function(e){var t=this.get(e.id);t?(e.description&&t.set({description:e.description}),e.name&&t.set({title:e.name}),e.tickets&&t.set({tickets:e.tickets})):this.add(e)},removeProject:function(e){var t=this.get(e.id);t&&t.destroy()}}),r}),n("models/List",["underscore","backbone"],function(e,t){var n;return n=t.Model.extend({initialize:function(){this.on("error",function(){ticketer.EventEmitter.trigger("error","Error saving comment")})},hasTicket:function(e){return!!~this.get("tickets").indexOf(e)},addTicket:function(t,n){var r=this.get("tickets");return e.isArray(t)?e(t).each(function(e){~r.indexOf(e)||r.push(e)}):~r.indexOf(t)||r.push(t),this.save(null,{error:n}),this},removeTicket:function(t,n){function i(e){var t=r.indexOf(e);t!==-1&&r.splice(t,1)}var r=this.get("tickets");return e.isArray(t)?e(t).each(function(e){i(e)}):i(t),this.save(null,{error:n}),this},validate:function(e){if(typeof e.name!="undefined"&&!e.name.replace(/\s/g,"").length)return"You must enter a task name."}}),n}),n("collections/Lists",["underscore","backbone","models/List"],function(e,t,n){var r;return r=t.Collection.extend({model:n,url:"/api/lists",getListTickets:function(e){var t=this.get(e.id);return t.get("tickets")}}),r}),n("text!templates/widgets/TagForm.html",[],function(){return'<div class="color-picker">\n  <ul>\n    {{#colors}}\n      <li class="color-{{name}}" data-value="{{value}}"></li>\n    {{/colors}}\n  </ul>\n</div>\n\n<form action="#">\n  <input type="text" placeholder="Create a New Tag" disabled>\n</form>'}),n("views/widgets/TagFormView",["jquery","underscore","backbone","BaseView","mustache","text!templates/widgets/TagForm.html"],function(e,t,n,i,s,o){var u=i.extend({className:"tags-form",events:{"click .color-picker li":"setColor","keypress input[type=text]":"createOnEnter"},initialize:function(){var t=this;this.$el.on("click",function(e){e.stopPropagation()}),e("html").on("click.tag-widget.data-api",function(){t.dispose()})},dispose:function(){return e("html").off("click.tag-widget.data-api"),i.prototype.dispose.call(this)},render:function(){var e={colors:ticketer.colors};return this.$el.html(r.to_html(o,e)),this},setColor:function(t){var n=e(t.currentTarget);value=n.data("value"),this.color=value,this.$el.find("li.active").removeClass("active"),n.addClass("active"),e("input[type=text]").attr("disabled",!1)},createOnEnter:function(t){var n=e("input[type=text]",this.$el);if(t.keyCode!=13)return;if(t.keyCode===13&&!t.ctrlKey){t.preventDefault();var r=this;ticketer.collections.lists.create({color:this.color,name:n.val()},{wait:!0}),this.dispose()}}});return u}),n("text!templates/tickets/MarkdownGuide.html",[],function(){return'\n<h1>Markdown Guide</h1>\n<a href="#" class="close">&times;</a>\n\n<div class="column">\n  <h2>Text formatting</h2>\n  <h3>Headers</h3>\n  <pre>\n# This is a header\n## This is a smaller header\n### An even smaller header</pre>\n  <h3>Styles</h3>\n  <pre>\n*This text will be italic*\n_This will also be italic_\n**This text will be bold**\n__This will also be bold__\n\n*You **can** combine them*</pre>\n</div>\n\n<div class="column">\n  <h2>Lists</h2>\n  <h3>Ordered</h3>\n  <pre>\n1. Item 1\n2. Item 2\n3. Item 3\n * Item 3a\n * Item 3b</pre>\n  <h3>Unordered</h3>\n  <pre>\n* Item 1\n* Item 2\n* Nested Item</pre>\n</div>\n\n<div class="column">\n  <h2>Other</h2>\n  <h3>Links</h3>\n  <pre>\n[TxState](http://txstate.edu)</pre>\n  <h3>Images</h3>\n  <pre>\n![Alt Text](URL)</pre>\n  <h3>Blockquotes</h3>\n  <pre>\n> Quote</pre>\n</div>'}),n("views/dialogs/MarkdownGuide",["jquery","underscore","backbone","BaseView","mustache","text!templates/tickets/MarkdownGuide.html"],function(e,t,n,i,s,o){var u=i.extend({className:"dialog",events:{"click .close":"destroy"},initialize:function(){this.render(),e("body").on("keyup",e.proxy(this.escape,this)),e("body").on("click",e.proxy(this.clickOutside,this))},render:function(){if(e("body").find(".dialog").length)return;this.$el.html(r.to_html(o)),e("body").append(this.el),this.$el.animate({top:"18%"})},escape:function(e){var t=this;e.preventDefault(),e.which==27&&t.destroy(e)},clickOutside:function(t){if(e(t.target).parents(".dialog").length>0)return;this.destroy(t)},destroy:function(t){var n=this;t.preventDefault(),e("body").off("keyup",this.escape),e("body").off("click",this.clickOutside),this.$el.fadeOut(200,function(){n.dispose()})}});return u}),n("text!templates/tickets/TicketForm.html",[],function(){return'<div class="header">\n  <h1 class="title">Create a Ticket</h1>\n  <span data-action="cancel">&times;</span>\n</div>\n\n<!-- Ticket Form -->\n<div class="wrapper">\n  <div class="wrap">\n    <input type="text" name="title" placeholder="Ticket Name...">\n  </div>\n\n  <textarea class="wrap scrollable" role="description" placeholder="Enter a description of your ticket..."></textarea>\n</div>\n\n<div class="footer">\n  <ul class="left">\n    <li><a data-role="display-guide" class="guide" href="#">Markdown Guide</a></li>\n  </ul>\n\n  <ul class="right">\n    <li><button data-action="create">Create Ticket</button></li>\n    <li><button data-action= "cancel" class="cancel">Cancel</button></li>\n  </ul>\n</div>'}),function(e){function r(t){return this.filter(r.resizableFilterSelector).each(function(){new i(e(this),t)}),this}function i(t,n){t.data("AutoResizer")&&t.data("AutoResizer").destroy(),n=this.config=e.extend({},r.defaults,n),this.el=t,this.nodeName=t[0].nodeName.toLowerCase(),this.originalHeight=t.height(),this.previousScrollTop=null,this.value=t.val(),n.maxWidth==="original"&&(n.maxWidth=t.width()),n.minWidth==="original"&&(n.minWidth=t.width()),n.maxHeight==="original"&&(n.maxHeight=t.height()),n.minHeight==="original"&&(n.minHeight=t.height()),this.nodeName==="textarea"&&t.css({resize:"none",overflowY:"hidden"}),t.data("AutoResizer",this),n.animate.complete=function(e){return function(){return n.onAfterResize.call(t),e.apply(this,arguments)}}(n.animate.complete),this.bind()}var t="ar"+ +(new Date),n=r.defaults={onResize:function(){},onBeforeResize:function(){return 123},onAfterResize:function(){return 555},animate:{duration:200,complete:function(){}},extraSpace:50,minHeight:"original",maxHeight:500,minWidth:"original",maxWidth:500};r.cloneCSSProperties=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","paddingTop","paddingLeft","paddingBottom","paddingRight","width"],r.cloneCSSValues={position:"absolute",top:-9999,left:-9999,opacity:0,overflow:"hidden"},r.resizableFilterSelector=["textarea:not(textarea."+t+")","input:not(input[type])","input[type=text]","input[type=password]","input[type=email]","input[type=url]"].join(","),r.AutoResizer=i,e.fn.autoResize=r,i.prototype={bind:function(){var t=e.proxy(function(){return this.check(),!0},this);this.unbind(),this.el.bind("keyup.autoResize",t).bind("change.autoResize",t).bind("paste.autoResize",function(){setTimeout(function(){t()},0)}),this.el.is(":hidden")||this.check(null,!0)},unbind:function(){this.el.unbind(".autoResize")},createClone:function(){var n=this.el,i=this.nodeName==="textarea"?n.clone():e("<span/>");this.clone=i,e.each(r.cloneCSSProperties,function(e,t){i[0].style[t]=n.css(t)}),i.removeAttr("name").removeAttr("id").addClass(t).attr("tabIndex",-1).css(r.cloneCSSValues),this.nodeName==="textarea"?i.height("auto"):i.width("auto").css({whiteSpace:"nowrap"})},check:function(e,t){this.clone||(this.createClone(),this.injectClone());var n=this.config,r=this.clone,i=this.el,s=i.val();if(s===this.prevValue)return!0;this.prevValue=s;if(this.nodeName==="input"){r.text(s);var o=r.width(),u=o+n.extraSpace>=n.minWidth?o+n.extraSpace:n.minWidth,a=i.width();u=Math.min(u,n.maxWidth);if(u<a&&u>=n.minWidth||u>=n.minWidth&&u<=n.maxWidth)n.onBeforeResize.call(i),n.onResize.call(i),i.scrollLeft(0),n.animate&&!t?i.stop(1,1).animate({width:u},n.animate):(i.width(u),n.onAfterResize.call(i));return}r.width(i.width()).height(0).val(s).scrollTop(1e4);var f=r[0].scrollTop;if(this.previousScrollTop===f)return;this.previousScrollTop=f,f+n.extraSpace>=n.maxHeight?(i.css("overflowY",""),f=n.maxHeight,t=!0):f<=n.minHeight?f=n.minHeight:(i.css("overflowY","hidden"),f+=n.extraSpace),n.onBeforeResize.call(i),n.onResize.call(i),n.animate&&!t?i.stop(1,1).animate({height:f},n.animate):(i.height(f),n.onAfterResize.call(i))},destroy:function(){this.unbind(),this.el.removeData("AutoResizer"),this.clone&&this.clone.remove(),delete this.el,delete this.clone},injectClone:function(){(r.cloneContainer||(r.cloneContainer=e("<arclones/>").appendTo("body"))).append(this.clone)}}}(jQuery),n("autoresize",function(){}),n("views/tickets/TicketFormView",["jquery","underscore","backbone","BaseView","mustache","models/Ticket","views/dialogs/MarkdownGuide","text!templates/tickets/TicketForm.html","autoresize"],function(e,t,n,i,s,o,u,a){var f=i.extend({className:"ticket-form",attributes:{role:"popup"},events:{"click [data-action='create']":"createTicket","click [data-action='cancel']":"clearPopup","click [data-role='display-guide']":"displayHelp"},initialize:function(){e("body").on("keyup",e.proxy(this.escape,this))},render:function(){var t;return t=ticketer.currentUser,t.shortname=t.name.split(" ")[0],e(this.el).html(r.to_html(a,ticketer.currentUser)),e("body").append(this.el),this},escape:function(e){var t=this;e.preventDefault(),e.which==27&&t.clearPopup(e)},clearPopup:function(){e("body").off("keyup",this.escape),this.dispose()},createTicket:function(t){var n=this,r=e("[name=title]",this.el).val(),i=e("[role=description]",this.el).val(),s;s=new o({title:r,description:i}),s.save({},{wait:!0,success:function(){n.clearPopup()}}),t.preventDefault()},displayHelp:function(e){e.preventDefault(),new u}});return f}),n("text!templates/headers/MainHeader.html",[],function(){return'<h1 class="logo"><a href="/">Tickets</a></h1>\n\n<ul data-role="action-container" class="actions">\n  <li><a title="Refresh" href="#" data-action="refresh"><i class="icon-refresh"></i></a></li>\n  <li><a title="New Ticket" href="#" data-action="new-ticket"><i class="icon-edit"></i></a></li>\n  <li class="spacer"><a title="New Tag" href="#" data-action="new-tag"><i class="icon-bookmark"></i><i class="icon-sort-down"></i></a></li>\n</ul>'}),n("text!templates/headers/UserOptions.html",[],function(){return'<ul class="user-actions">\n  <li class="dropdown">\n    <a href="#" class="dropdown-toggle" data-toggle="dropdown">\n      <img src="{{user.avatar}}" alt="{{user.name}}" />\n      <span class="name">{{user.name}}</span>\n      <i class="icon-sort-down"></i>\n    </a>\n\n    <ul class="dropdown-menu">\n      <li><a href="/logout">Logout</a></li>\n    </ul>\n  </li>\n</ul>'}),!function(e){function r(){e(t).each(function(){i(e(this)).removeClass("open")})}function i(t){var n=t.attr("data-target"),r;return n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||s.toggleClass("open"),n.focus(),!1},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this),t.preventDefault(),t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider):visible a",o);if(!r.length)return;a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api touchstart.dropdown.data-api",r).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("touchstart.dropdown.data-api",".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),n("dropdowns",function(){}),n("views/headers/MainHeaderView",["jquery","underscore","mustache","BaseView","views/widgets/TagFormView","views/tickets/TicketFormView","text!templates/headers/MainHeader.html","text!templates/headers/UserOptions.html","dropdowns"],function(e,t,n,i,s,o,u,a){var f=i.extend({className:"header",events:{"click a[data-action]":"preventDefault","click a[data-action='new-ticket']":"createTicket","click a[data-action='refresh']":"refresh","click a[data-action='new-tag']":"showTagWidget"},initialize:function(){this.bindTo(ticketer.EventEmitter,"popup:TicketForm",this.createTicket,this)},render:function(){return this.$el.html(r.to_html(u)),this.addUserOptions(),this},addUserOptions:function(){var t={};e(".user-actions",this.el).remove(),t.user=ticketer.currentUser,this.$el.append(r.to_html(a,t))},preventDefault:function(e){e.preventDefault()},refresh:function(){ticketer.EventEmitter.trigger("collection:reset")},showTagWidget:function(t){var n=e(t.currentTarget).parent(),r;t.preventDefault(),t.stopPropagation(),n.children(".tags-form").length||(r=this.createView(s),e(n).append(r.render().el))},createTicket:function(){var t;if(e("[role=popup]").length)return!1;t=new o,t.render()}});return f}),n("routers/Ticketer",["backbone","views/headers/MainHeaderView","support/PanelController"],function(e,t,n){var r=e.Router.extend({routes:{"":"index","tickets/open":"openTickets","tickets/closed":"closedTickets","tickets/mine":"myTickets"},initialize:function(){var e=new t;$("header").append(e.render().el),this.controller=new n},index:function(){this.navigate("tickets/mine",!0)},openTickets:function(){this.controller.showOpenTickets()},closedTickets:function(){this.controller.showClosedTickets()},myTickets:function(){this.controller.showMyTickets()}});return r}),n("views/alerts/BaseAlertView",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({id:"alert",events:{"click .close":"close"},close:function(t){t.type==="click"&&t.preventDefault();var n=this;e(this.el).slideUp(200,"swing",function(){e(".alert",n).remove()}),e("body").off("mousedown DOMMouseScroll mousewheel touchstart touchmove",n.close)}});return r}),n("text!templates/alerts/Error.html",[],function(){return'<div class="alert error">\n  <a class="close" href="#">x</a>\n  <p>{{msg}}</p>\n</div>'}),n("views/alerts/ErrorView",["jquery","underscore","backbone","views/alerts/BaseAlertView","mustache","text!templates/alerts/Error.html"],function(e,t,n,i,s,o){var u=i.extend({initialize:function(){ticketer.EventEmitter.on("error",this.render,this)},render:function(t){e(this.el).html(r.to_html(o,{msg:t})).hide(),e("body").prepend(this.el),e(this.el).slideDown(200,function(){function n(){e(t).slideUp(200,function(){e(".alert",t).remove()})}var t=this;setTimeout(function(){n()},4e3)})}});return u}),n("text!templates/alerts/Notification.html",[],function(){return'<button id="request_permission" href="#">Enable Desktop Notifications</button>\n<div class="notification-text">\n  <p>The Ticket System works best with desktop notifications turned on.</p>\n</div>'}),n("views/alerts/NotificationView",["jquery","underscore","backbone","mustache","models/Ticket","text!templates/alerts/Notification.html"],function(e,t,n,i,s,o){var u=n.View.extend({id:"notification",className:"clearfix",events:{"click button":"requestPermissions"},initialize:function(){ticketer.EventEmitter.on("comment:new",this.commentNotification,this),ticketer.EventEmitter.on("ticket:update",this.closedNotification,this)},render:function(){e(this.el).html(r.to_html(o,{})).hide(),e("body").prepend(this.el),e(this.el).slideDown(200)},requestPermissions:function(){e(this.el).hide();var t=this;webkitNotifications.requestPermission(t.requestCallback)},requestCallback:function(){var e=webkitNotifications.checkPermission();e===0?ticketer.notifications=!0:ticketer.notifications=!1},commentNotification:function(e){var t=new s({id:e.ticket});t.fetch({success:function(){if(t.get("status")==="open"&&ticketer.notifications&&e.notification){var n=e.user.name+' made a comment on "'+t.get("title")+'":';webkitNotifications.createNotification("",n,e.comment).show()}}})},closedNotification:function(e){if(!ticketer.notifications)return!1;if(e.status==="closed"){var n="Ticket Closed";if(e.user.id===ticketer.currentUser.id)webkitNotifications.createNotification("",n,e.title).show();else if(e.assigned_to.length>0){var r=t.include(e.assigned_to,ticketer.currentUser.id);r&&webkitNotifications.createNotification("",n,e.title).show()}}}});return u}),function(e){function t(){this.data={}}function r(){this.listeners=new t}function i(e){setTimeout(function(){throw e},0)}function s(e){this.type=e}function o(e,t){s.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function y(e,t){var n=Number(e);return(n<1?1:n>18e6?18e6:n)||t}function b(e,t,n){try{typeof e[t]=="function"&&e[t](n)}catch(r){i(r)}}function w(t,n){function B(){L=v,N!==null&&(N.abort(),N=null),C!==0&&(clearTimeout(C),C=0),S.readyState=v}function j(e){var t=L===d||L===p?N.responseText||"":"",n=null;if(L===p){var r=l?t!==""?N.getResponseHeader("Content-Type"):"":N.contentType;if(r&&m.test(r)){L=d,T=!0,x=u,S.readyState=d,n=new s("open"),S.dispatchEvent(n),b(S,"onopen",n);if(L===v)return}}if(L===d){t.length>k&&(H=!0,T=!0);var i=0,f=t.indexOf("\r",k),c=t.indexOf("\n",k);while(f!==-1||c!==-1){f===-1||c!==-1&&c<f?(i=c,c=t.indexOf("\n",i+1)):(i=f,f=t.indexOf("\r",i+1));var g=t.slice(k,i),B=D;D=t.slice(i,i+1)==="\r",k=i+1;if(!B||g.length!==0||D){_.push(g);var j=_.join("");_.length=0;if(j!==""){var I="",q=j.indexOf(":",0);q!==-1&&(I=j.slice(q+(j.slice(q+1,q+2)===" "?2:1)),j=j.slice(0,q)),j==="data"?A.push(I):j==="id"?O=I:j==="event"?M=I:j==="retry"?(u=y(I,u),x=u,a<u&&(a=u)):j==="retryLimit"?a=y(I,a):j==="heartbeatTimeout"&&(w=y(I,w),C!==0&&(clearTimeout(C),C=setTimeout(R,w)))}else{if(A.length!==0){E=O;var U=M||"message";n=new o(U,{data:A.join("\n"),lastEventId:O}),S.dispatchEvent(n),U==="message"&&b(S,"onmessage",n);if(L===v)return}A.length=0,M=""}}}k!==t.length&&(_.push(t.slice(k)),k=t.length)}H&&P===0&&(H=!1,P=setTimeout(F,80)),L!==d&&L!==p||!(e||k>1048576||C===0&&!T)?C===0&&(T=!1,C=setTimeout(R,w)):(L=h,N.abort(),C!==0&&(clearTimeout(C),C=0),x>a&&(x=a),C=setTimeout(R,x),x=x*2+1,S.readyState=p,n=new s("error"),S.dispatchEvent(n),b(S,"onerror",n))}function F(){P=0,j(!1)}function I(){j(!1)}function q(){j(!0)}function R(){C=0;if(L!==h){j(!1);return}if(navigator.onLine===!1){C=setTimeout(R,500);return}if(g&&e.document&&(e.document.readyState==="loading"||e.document.readyState==="interactive")){C=setTimeout(R,100);return}N.onload=N.onerror=q,N.mozAnon===undefined?N.onprogress=I:N.onreadystatechange=I,T=!1,C=setTimeout(R,w),k=0,L=p,A.length=0,M="",O=E,_.length=0,D=!1,N.open("GET",t+((t.indexOf("?",0)===-1?"?":"&")+"lastEventId="+encodeURIComponent(E)+"&r="+String(Math.random()+1).slice(2)),!0),N.withCredentials=i,N.responseType="text",l&&N.setRequestHeader("Accept","text/event-stream"),N.send(null)}t=String(t);var i=Boolean(f&&n&&n.withCredentials),u=y(n?n.retry:NaN,1e3),a=y(n?n.retryLimit:NaN,3e5),w=y(n?n.heartbeatTimeout:NaN,45e3),E=n&&n.lastEventId&&String(n.lastEventId)||"",S=this,x=u,T=!1,N=new c,C=0,k=0,L=h,A=[],O="",M="",_=[],D=!1,P=0,H=!1;n=null,r.call(this),this.close=B,this.url=t,this.readyState=p,this.withCredentials=i,R()}function E(){this.CONNECTING=p,this.OPEN=d,this.CLOSED=v}t.prototype={get:function(e){return this.data[e+"~"]},set:function(e,t){this.data[e+"~"]=t},"delete":function(e){delete this.data[e+"~"]}},r.prototype={dispatchEvent:function(e){var t=String(e.type),n=this.listeners,r=n.get(t);if(!r)return;var s=r.length,o=-1;while(++o<s){var u=r[o];try{u.call(this,e)}catch(a){i(a)}}},addEventListener:function(e,t){e=String(e);var n=this.listeners,r=n.get(e);r||n.set(e,r=[]);var i=r.length;while(--i>=0)if(r[i]===t)return;r.push(t)},removeEventListener:function(e,t){e=String(e);var n=this.listeners,r=n.get(e);if(!r)return;var i=r.length,s=[],o=-1;while(++o<i)r[o]!==t&&s.push(r[o]);s.length===0?n["delete"](e):n.set(e,s)}},o.prototype=s.prototype;var u=e.XMLHttpRequest,a=e.XDomainRequest,f=Boolean(u&&(new u).withCredentials!==undefined),l=f,c=f?u:a,h=-1,p=0,d=1,v=2,m=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,g=/AppleWebKit\/5([0-2][0-9]|3[0-4])[^\d]/.test(navigator.userAgent);E.prototype=r.prototype,w.prototype=new E,E.call(w),c&&(e.EventSource=w),typeof n=="function"&&n.amd&&n("EventSource",[],function(){return w})}(this),n("ServerEvents",["underscore","backbone"],function(e,t){var n=function(){ticketer.SSE.addEventListener("ticket:new",function(e){var t=JSON.parse(e.data);ticketer.EventEmitter.trigger("ticket:new",t)}),ticketer.SSE.addEventListener("ticket:update",function(e){var t=JSON.parse(e.data);ticketer.EventEmitter.trigger("ticket:update",t)}),ticketer.SSE.addEventListener("ticket:remove",function(e){var t=JSON.parse(e.data);ticketer.EventEmitter.trigger("ticket:remove",t)}),ticketer.SSE.addEventListener("comment:new",function(e){var t=JSON.parse(e.data);ticketer.EventEmitter.trigger("comment:new",t)}),ticketer.SSE.addEventListener("comment:update",function(e){var t=JSON.parse(e.data);ticketer.EventEmitter.trigger("comment:update",t)}),ticketer.SSE.addEventListener("comment:remove",function(e){var t=JSON.parse(e.data);ticketer.EventEmitter.trigger("comment:remove",t)})};return n}),function(){function p(e,t,n){if(e.addEventListener){e.addEventListener(t,n,!1);return}e.attachEvent("on"+t,n)}function d(n){return n.type=="keypress"?String.fromCharCode(n.which):e[n.which]?e[n.which]:t[n.which]?t[n.which]:String.fromCharCode(n.which).toLowerCase()}function v(e,t){return e.sort().join(",")===t.sort().join(",")}function m(e,t){e=e||{};var n=!1,r;for(r in a){if(e[r]&&a[r]>t){n=!0;continue}a[r]=0}n||(c=!1)}function g(e,t,n,r,i){var s,u,f=[],l=n.type;if(!o[e])return[];l=="keyup"&&S(e)&&(t=[e]);for(s=0;s<o[e].length;++s){u=o[e][s];if(u.seq&&a[u.seq]!=u.level)continue;if(l!=u.action)continue;if(l=="keypress"&&!n.metaKey&&!n.ctrlKey||v(t,u.modifiers))r&&u.combo==i&&o[e].splice(s,1),f.push(u)}return f}function y(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function b(e,t,n){if(A.stopCallback(t,t.target||t.srcElement,n))return;e(t,n)===!1&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1,t.cancelBubble=!0)}function w(e,t){var n=g(e,y(t),t),r,i={},s=0,o=!1;for(r=0;r<n.length;++r){if(n[r].seq){o=!0,s=Math.max(s,n[r].level),i[n[r].seq]=1,b(n[r].callback,t,n[r].combo);continue}!o&&!c&&b(n[r].callback,t,n[r].combo)}t.type==c&&!S(e)&&m(i,s)}function E(e){typeof e.which!="number"&&(e.which=e.keyCode);var t=d(e);if(!t)return;if(e.type=="keyup"&&l==t){l=!1;return}w(t,e)}function S(e){return e=="shift"||e=="ctrl"||e=="alt"||e=="meta"}function x(){clearTimeout(f),f=setTimeout(m,1e3)}function T(){if(!s){s={};for(var t in e){if(t>95&&t<112)continue;e.hasOwnProperty(t)&&(s[e[t]]=t)}}return s}function N(e,t,n){return n||(n=T()[e]?"keydown":"keypress"),n=="keypress"&&t.length&&(n="keydown"),n}function C(e,t,n,r){a[e]=0,r||(r=N(t[0],[]));var i=function(t){c=r,++a[e],x()},s=function(t){b(n,t,e),r!=="keyup"&&(l=d(t)),setTimeout(m,10)},o;for(o=0;o<t.length;++o)k(t[o],o<t.length-1?i:s,r,e,o)}function k(e,t,n,s,a){u[e+":"+n]=t,e=e.replace(/\s+/g," ");var f=e.split(" "),l,c,h,p=[];if(f.length>1){C(e,f,t,n);return}h=e==="+"?["+"]:e.split("+");for(l=0;l<h.length;++l)c=h[l],i[c]&&(c=i[c]),n&&n!="keypress"&&r[c]&&(c=r[c],p.push("shift")),S(c)&&p.push(c);n=N(c,p,n),o[c]||(o[c]=[]),g(c,p,{type:n},!s,e),o[c][s?"unshift":"push"]({callback:t,modifiers:p,action:n,seq:s,level:a,combo:e})}function L(e,t,n){for(var r=0;r<e.length;++r)k(e[r],t,n)}var e={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},t={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},r={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},i={option:"alt",command:"meta","return":"enter",escape:"esc"},s,o={},u={},a={},f,l=!1,c=!1;for(var h=1;h<20;++h)e[111+h]="f"+h;for(h=0;h<=9;++h)e[h+96]=h;p(document,"keypress",E),p(document,"keydown",E),p(document,"keyup",E);var A={bind:function(e,t,n){return e=e instanceof Array?e:[e],L(e,t,n),this},unbind:function(e,t){return A.bind(e,function(){},t)},trigger:function(e,t){return u[e+":"+t]&&u[e+":"+t](),this},reset:function(){return o={},u={},this},stopCallback:function(e,t,n){return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:t.tagName=="INPUT"||t.tagName=="SELECT"||t.tagName=="TEXTAREA"||t.contentEditable&&t.contentEditable=="true"}};window.Mousetrap=A,typeof n=="function"&&n.amd&&n("Mousetrap",A)}(),n("Shortcuts",["jquery","underscore","backbone","Mousetrap","mustache","views/dialogs/MarkdownGuide"],function(e,t,n,r,i,s){function o(){function e(e){new s}function t(e){ticketer.EventEmitter.trigger("popup:TicketForm")}r.bind("m",e),r.bind("c",t)}return o}),n("Sync",["jquery","underscore","backbone"],function(e,t,n){var r=function(){n.sync_model=n.sync,n.sync=function(e,r,i){var s=t.extend({beforeSend:function(e){var t=ticketer.currentUser.access_token;t&&e.setRequestHeader("X-Auth-Token",t),e.setRequestHeader("Accept","application/json")}},i);n.sync_model(e,r,s)}};return r}),n("app",["underscore","backbone","support/PanelController","collections/Tickets","collections/Comments","collections/Users","collections/Projects","collections/Lists","routers/Ticketer","views/alerts/ErrorView","views/alerts/NotificationView","EventSource","ServerEvents","Shortcuts","Sync"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){$(function(){window.ticketer=window.ticketer||{},ticketer.colors=[{value:0,name:"lightOrange"},{value:1,name:"blue"},{value:2,name:"red"},{value:3,name:"green"},{value:4,name:"teal"},{value:5,name:"pink"},{value:6,name:"brightGreen"},{value:7,name:"tan"}],ticketer.EventEmitter={},e.extend(ticketer.EventEmitter,t.Events),ticketer.collections={users:new s,lists:new u},ticketer.routers={ticketer:new a},ticketer.views={alerts:{error:new f,notifications:new l}},new d,ticketer.SSE=new c("/events",{withCredentials:!0}),new h,ticketer.collections.lists.fetch(),ticketer.collections.users.fetch();try{t.history.start()}catch(n){}new p;if(webkitNotifications){var r=webkitNotifications.checkPermission();r===0?ticketer.notifications=!0:r===2?ticketer.notifications=!1:ticketer.views.alerts.notifications.render()}})}),t.config({baseUrl:"js",paths:{backbone:"libs/backbone-0.9.10",underscore:"libs/lodash",text:"libs/require/text",mustache:"libs/mustache",marked:"libs/marked",moment:"libs/moment",dropdowns:"libs/plugins/bootstrap.dropdowns",autoresize:"libs/plugins/jquery.autoresize",spin:"libs/spin",EventSource:"libs/eventsource",Mousetrap:"libs/mousetrap",Shortcuts:"support/Shortcuts",Sync:"support/Sync",BaseView:"support/GarbageCollector",AppView:"support/AppView",ServerEvents:"support/ServerEvents"}}),t(["jquery","underscore","backbone","BaseView"],function(e,n,r,i){t(["app"],function(){})}),n("main",function(){})})();